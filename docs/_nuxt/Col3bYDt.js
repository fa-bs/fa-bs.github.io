import{_ as C,j as v,Y as S,c as l,o as a,ab as K,a5 as Q,w as x,a as u,a7 as b,e as n,b as L,d as o,a1 as w,F as z,i as tt,ac as et,a3 as st,u as ot,T as nt,W as at,ad as lt,f as ct,l as p,r as E,t as h,a4 as it,a6 as rt,g as N}from"./_DvHSUoK.js";import{_ as ut}from"./xebi18-x.js";import{_ as dt}from"./4jAGinZS.js";import{_ as mt}from"./CoVR44pd.js";const pt={__name:"ZoomOnPinch",props:{src:String,alt:String},setup(t){const s=v(1),i=v({x:0,y:0}),f=S(()=>({transform:`scale(${s.value})`,transformOrigin:`${i.value.x}px ${i.value.y}px`,transition:s.value===1?"transform 0.3s ease":"none"}));function r(e,c){const _=c.clientX-e.clientX,P=c.clientY-e.clientY;return Math.hypot(_,P)}let d=0;function $(e){if(e.touches.length===2){d=r(e.touches[0],e.touches[1]);const c=(e.touches[0].clientX+e.touches[1].clientX)/2,_=(e.touches[0].clientY+e.touches[1].clientY)/2;i.value={x:c,y:_}}}function A(e){if(e.touches.length===2){const _=r(e.touches[0],e.touches[1])/d;s.value=Math.min(Math.max(_,1),3)}}function D(){setTimeout(()=>{s.value=1},200)}return(e,c)=>(a(),l("div",{ref:"container",class:"zoom-container",onTouchstart:$,onTouchmove:A,onTouchend:D},[K(e.$slots,"default",{class:"zoom-img",style:Q(f.value)},void 0,!0)],544))}},ht=C(pt,[["__scopeId","data-v-9e52428f"]]),ft=["src","alt"],_t={__name:"PostImage",props:{imageSrc:{type:Object}},setup(t){const s=S(()=>{const r=t.imageSrc.alt.replace(/\.[^/.]+$/,"").replace(/-/g," ");return r.charAt(0).toUpperCase()+r.slice(1)}),i=v(!1);return(f,r)=>{const d=ht;return a(),l(z,null,[x(u(n(ut),null,null,512),[[b,!n(i)]]),u(d,null,{default:L(()=>[o("img",{class:w(["opacity-0",{hidden:!n(i),"block fade-in max-w-full max-h-full object-contain":n(i)}]),src:t.imageSrc.src,alt:n(s),onLoad:r[0]||(r[0]=$=>i.value=!0)},null,42,ft)]),_:1})],64)}}},xt={name:"MaterialSymbolsContentCopy"},vt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function gt(t,s,i,f,r,d){return a(),l("svg",vt,s[0]||(s[0]=[o("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const bt=C(xt,[["render",gt]]),yt={name:"IcBaselineShare"},wt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function St(t,s,i,f,r,d){return a(),l("svg",wt,s[0]||(s[0]=[o("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const $t=C(yt,[["render",St]]),kt={key:0,class:"flex flex-col p-3 mb-5 shadow rounded-md"},Tt={key:0,class:"relative max-h-[476px]"},Lt={key:0,class:"w-0 h-0"},Ct={key:1,class:"flex gap-1 justify-center mt-4"},At={key:2,class:"font-semibold italic"},Dt=["innerHTML"],Pt=["innerHTML"],It={class:"flex flex-col"},Mt={class:"fade-in opacity-0 bg-gradient-to-t from-@white w-full h-6 -mt-6 z-10"},Bt={class:"relative flex items-center h-10 mt-3"},zt={class:"flex gap-2 absolute right-0"},Vt={key:0},jt={key:3,class:"flex flex-col mt-6"},Et={class:"flex flex-col gap-1"},Nt={class:"flex flex-col items-center mt-2"},qt={class:"w-fit"},Yt={class:"w-fit"},Ot={class:"text-@red"},Xt={class:"text-@blue"},Ft={__name:"Post",props:{post:{type:Object}},setup(t){const s=t,{$user:i,$sanitize:f}=tt(),{share:r,isSupported:d}=et(),{width:$}=st(),{deletePost:A}=ot(),D=nt(),e=v(null),c=v(1),_=typeof s.post.createdAt!="string"?s.post.createdAt.toDate().toLocaleString("pt-BR"):s.post.createdAt,P=typeof s.post.updatedAt!="string"?s.post.updatedAt.toDate().toLocaleString("pt-BR"):s.post.updatedAt,V=S(()=>({createdAtValue:_,updatedAtValue:P})),k=f(s.post.description),y=v(!1),q=S(()=>k.length>114?k.slice(0,115)+"...":k.slice(0,115)),Y=async(T,m)=>{await A(T,m,"posts")};at(()=>{e.value&&e.value.addEventListener("scroll",j)}),lt(()=>{e.value&&e.value.removeEventListener("scroll",j)});const I=S(()=>$.value<=480?336:476),j=()=>{const T=Math.round(e.value.scrollLeft/I.value);c.value=T+1},O=()=>{e.value.scrollLeft+=I.value,c.value<s.post.imagesSrc.length&&(c.value+=1)},X=()=>{e.value.scrollLeft-=I.value,c.value>1&&(c.value-=1)},M=v(!1),F=async()=>{await navigator.clipboard.writeText(`https://oifabio.com.br/posts/${s.post.slug}`),M.value=!0,setTimeout(()=>M.value=!1,400)},H=()=>{r({title:"Fabio BS",text:"Fabio BS â€¢ Portfolio",url:`/posts/${s.post.slug}`})};return(T,m)=>{const R=_t,U=dt,W=mt,B=it,Z=bt,G=$t,J=ct("auto-animate");return t.post?(a(),l("div",kt,[t.post.imagesSrc.length>0?(a(),l("section",Tt,[o("ul",{class:"wrapper",ref_key:"wrapper",ref:e},[(a(!0),l(z,null,E(t.post.imagesSrc,g=>(a(),l("li",{key:g.path,class:"snap-center overflow-y-hidden min-w-[476px] sm:min-w-[336px] min-h-[318px] max-h-[476px] sm:min-h-[224px] sm:max-h-[336px] flex items-center justify-center"},[u(R,{imageSrc:g},null,8,["imageSrc"])]))),128))],512),t.post.imagesSrc.length>1?(a(),l("div",Lt,[x(o("button",{onClick:X,class:"opacity-0 fade-in"},[u(U,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[b,n(c)!=1]]),x(o("button",{onClick:O,class:"opacity-0 fade-in"},[u(W,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[b,n(c)!=t.post.imagesSrc.length]])])):p("",!0)])):p("",!0),t.post.imagesSrc.length>1?(a(),l("ul",Ct,[(a(!0),l(z,null,E(t.post.imagesSrc.length,g=>(a(),l("li",null,[o("div",{class:w(["w-2 h-2 rounded-full transition-all duration-300",g===n(c)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):p("",!0),u(B,{to:`/posts/${t.post.slug}`,class:"w-fit mb-2 mt-5"},{default:L(()=>[o("h2",{class:w(["relative title text-pretty after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},h(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(a(),l("h3",At,h(t.post.subheadline),1)):p("",!0),x((a(),l("div",null,[n(y)?(a(),l("p",{key:1,innerHTML:n(k)},null,8,Pt)):(a(),l("p",{key:0,class:w({"line-through":!t.post.isActive}),innerHTML:n(q)},null,10,Dt))])),[[J,{duration:300}]]),x(o("div",It,[x(o("div",Mt,null,512),[[b,!n(y)]])],512),[[b,t.post.description.length>114]]),x(o("button",{class:"mt-2 font-bold",onClick:m[0]||(m[0]=g=>y.value=!n(y))},h(n(y)?"leia menos":"leia mais"),513),[[b,t.post.description.length>114]]),o("div",Bt,[n(D).name!==t.post.tag?(a(),rt(B,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:L(()=>[N("#mais projetos sobre "+h(t.post.tag),1)]),_:1},8,["to"])):p("",!0),o("div",zt,[o("button",null,[u(Z,{onClick:F,class:w(["text-3xl fill-@black/25 cursor-pointer transition-all",{"fill-@blue text-4xl":n(M)}])},null,8,["class"])]),n(d)?(a(),l("button",Vt,[u(G,{onClick:H,class:"text-3xl fill-@black/25 cursor-pointer"})])):p("",!0)])]),n(i)?(a(),l("div",jt,[o("div",Et,[u(B,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:L(()=>m[2]||(m[2]=[N("Update Post ")])),_:1},8,["to"]),o("button",{onClick:m[1]||(m[1]=g=>Y(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),o("div",Nt,[o("small",qt,"Post ID: "+h(t.post.id),1),o("small",Yt,"Post priority: "+h(t.post.priority),1),o("small",Ot," Created: "+h(n(V).createdAtValue),1),o("small",Xt," Updated: "+h(n(V).updatedAtValue),1)])])):p("",!0)])):p("",!0)}}},Zt=C(Ft,[["__scopeId","data-v-37966801"]]);export{Zt as _};
