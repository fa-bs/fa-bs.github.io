import{_ as $,c as n,o as s,d as e,j as v,w as m,ae as _,e as o,a as d,a0 as b,F as A,i as K,af as Q,Y as B,u as X,T as Z,W as tt,a9 as et,f as st,l as u,r as D,b as C,t as h,ag as ot,ah as nt,g as P}from"./B7wJYVz7.js";import{_ as lt,a as at}from"./CybDGbxc.js";const ct={},it={class:"lds-ellipsis"};function rt(t,l){return s(),n("div",it,l[0]||(l[0]=[e("div",null,null,-1),e("div",null,null,-1),e("div",null,null,-1),e("div",null,null,-1)]))}const ut=$(ct,[["render",rt],["__scopeId","data-v-319f1879"]]),dt=["src","alt"],mt={__name:"PostImage",props:{imageSrc:{type:Object}},setup(t){const l=v(!1);return(w,p)=>{const x=ut;return s(),n(A,null,[m(d(x,null,null,512),[[_,!o(l)]]),e("img",{class:b(["opacity-0",{hidden:!o(l),"block fade-in max-w-full max-h-full object-contain":o(l)}]),src:t.imageSrc.src,alt:t.imageSrc.alt,onLoad:p[0]||(p[0]=a=>l.value=!0)},null,42,dt)],64)}}},pt={name:"MaterialSymbolsContentCopy"},ft={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function ht(t,l,w,p,x,a){return s(),n("svg",ft,l[0]||(l[0]=[e("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const _t=$(pt,[["render",ht]]),xt={name:"IcBaselineShare"},gt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function vt(t,l,w,p,x,a){return s(),n("svg",gt,l[0]||(l[0]=[e("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const bt=$(xt,[["render",vt]]),wt={key:0,class:"flex flex-col p-3 mb-5 shadow rounded-md"},yt={key:0,class:"relative max-h-[476px]"},kt={key:0,class:"w-0 h-0"},$t={key:1,class:"flex gap-1 justify-center mt-4"},St={key:2,class:"font-semibold italic"},Lt=["innerHTML"],Ct=["innerHTML"],At={class:"flex flex-col"},Tt={class:"fade-in opacity-0 bg-gradient-to-t from-@white w-full h-6 -mt-6 z-10"},It={class:"relative flex items-center h-10 mt-3"},Bt={class:"flex gap-2 absolute right-0"},Dt={key:0},Pt={key:3,class:"flex flex-col mt-6"},Vt={class:"flex flex-col gap-1"},Mt={class:"flex gap-2 self-center sm:flex-col sm:gap-0 mt-1"},jt={class:"text-@red"},Nt={class:"text-@blue"},qt={__name:"Post",props:{post:{type:Object}},setup(t){const{$user:l,$sanitize:w}=K(),{share:p,isSupported:x}=Q(),a=t,V=typeof a.post.createdAt!="string"?a.post.createdAt.toDate().toLocaleString("pt-BR"):a.post.createdAt,M=typeof a.post.updatedAt!="string"?a.post.updatedAt.toDate().toLocaleString("pt-BR"):a.post.updatedAt,T=B(()=>({createdAtValue:V,updatedAtValue:M})),y=w(a.post.description),g=v(!1),j=B(()=>y.length>114?y.slice(0,115)+"...":y.slice(0,115)),{deletePost:N}=X(),q=async(k,r)=>{await N(k,r,"posts")},z=Z(),c=v(null),i=v(1);tt(()=>{c.value&&c.value.addEventListener("scroll",I)}),et(()=>{c.value&&c.value.removeEventListener("scroll",I)});const I=()=>{const k=Math.round(c.value.scrollLeft/476);i.value=k+1},E=()=>{c.value.scrollLeft+=476,i.value<a.post.imagesSrc.length&&(i.value+=1)},F=()=>{c.value.scrollLeft-=476,i.value>1&&(i.value-=1)},S=v(!1),H=async()=>{await navigator.clipboard.writeText(`https://oifabio.com.br/posts/${a.post.slug}`),S.value=!0,setTimeout(()=>S.value=!1,400)},R=()=>{p({title:"Fabio BS",text:"Fabio BS â€¢ Portfolio",url:`/posts/${a.post.slug}`})};return(k,r)=>{const U=mt,O=lt,W=at,L=ot,Y=_t,G=bt,J=st("auto-animate");return t.post?(s(),n("div",wt,[t.post.imagesSrc.length>0?(s(),n("section",yt,[e("ul",{class:"wrapper",ref_key:"wrapper",ref:c},[(s(!0),n(A,null,D(t.post.imagesSrc,f=>(s(),n("li",{key:f.path,class:"snap-center overflow-y-hidden min-w-[476px] max-h-[476px] min-h-[476px] sm:min-w-[336px] sm:min-h-[336px] sm:max-h-[336px] flex items-center justify-center"},[d(U,{imageSrc:f},null,8,["imageSrc"])]))),128))],512),t.post.imagesSrc.length>1?(s(),n("div",kt,[m(e("button",{onClick:F,class:"opacity-0 fade-in"},[d(O,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[_,o(i)!=1]]),m(e("button",{onClick:E,class:"opacity-0 fade-in"},[d(W,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[_,o(i)!=t.post.imagesSrc.length]])])):u("",!0)])):u("",!0),t.post.imagesSrc.length>1?(s(),n("ul",$t,[(s(!0),n(A,null,D(t.post.imagesSrc.length,f=>(s(),n("li",null,[e("div",{class:b(["w-2 h-2 rounded-full transition-all duration-300",f===o(i)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):u("",!0),d(L,{to:`/posts/${t.post.slug}`,class:"w-fit mb-2 mt-5"},{default:C(()=>[e("h2",{class:b(["relative title text-pretty after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},h(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(s(),n("h3",St,h(t.post.subheadline),1)):u("",!0),m((s(),n("div",null,[o(g)?(s(),n("p",{key:1,innerHTML:o(y)},null,8,Ct)):(s(),n("p",{key:0,class:b({"line-through":!t.post.isActive}),innerHTML:o(j)},null,10,Lt))])),[[J,{duration:300}]]),m(e("div",At,[m(e("div",Tt,null,512),[[_,!o(g)]])],512),[[_,t.post.description.length>114]]),m(e("button",{class:"mt-2 font-bold",onClick:r[0]||(r[0]=f=>g.value=!o(g))},h(o(g)?"leia menos":"leia mais"),513),[[_,t.post.description.length>114]]),e("div",It,[o(z).name!==t.post.tag?(s(),nt(L,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:C(()=>[P("#mais projetos sobre "+h(t.post.tag),1)]),_:1},8,["to"])):u("",!0),e("div",Bt,[e("button",null,[d(Y,{onClick:H,class:b(["text-3xl fill-@black/25 cursor-pointer transition-all",{"fill-@blue text-4xl":o(S)}])},null,8,["class"])]),o(x)?(s(),n("button",Dt,[d(G,{onClick:R,class:"text-3xl fill-@black/25 cursor-pointer"})])):u("",!0)])]),o(l)?(s(),n("div",Pt,[e("div",Vt,[d(L,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:C(()=>r[2]||(r[2]=[P("Update Post ")])),_:1},8,["to"]),e("button",{onClick:r[1]||(r[1]=f=>q(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),e("div",Mt,[e("small",jt," Created: "+h(o(T).createdAtValue),1),e("small",Nt," Updated: "+h(o(T).updatedAtValue),1)])])):u("",!0)])):u("",!0)}}},Ft=$(qt,[["__scopeId","data-v-51b4c405"]]);export{Ft as _};
