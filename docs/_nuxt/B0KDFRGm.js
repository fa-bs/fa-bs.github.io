import{_ as I,j as i,Y as A,c as l,o as a,d as s,ab as K,a5 as Q,w as b,a as f,a7 as T,e as n,b as M,a1 as L,F as q,i as tt,ac as et,a3 as st,u as ot,T as nt,W as at,ad as lt,f as ct,l as _,r as N,t as g,a4 as it,a6 as rt,g as Y}from"./D69AkDIM.js";import{_ as ut}from"./DplLIQZa.js";import{_ as dt}from"./CgTbDba-.js";import{_ as mt}from"./CtWiVtm_.js";const pt={__name:"ZoomOnPinch",setup(e){const o=i(null),p=i(null),c=i(1),r=i(1),u=i({x:0,y:0}),y=i({x:0,y:0}),w=i(null),C=i(null),d=(t,m)=>{const v=m.clientX-t.clientX,k=m.clientY-t.clientY;return Math.sqrt(v*v+k*k)},h=(t,m)=>({x:(t.clientX+m.clientX)/2,y:(t.clientY+m.clientY)/2}),B=A(()=>({transform:`scale(${c.value}) translate(${u.value.x}px, ${u.value.y}px)`,transition:"transform 0.1s ease-out",touchAction:"none"})),z=t=>{t.touches.length===2?(w.value=h(t.touches[0],t.touches[1]),C.value=d(t.touches[0],t.touches[1])):t.touches.length===1&&c.value>1&&(w.value={x:t.touches[0].clientX,y:t.touches[0].clientY})},D=t=>{if(t.touches.length===2){t.preventDefault();const v=d(t.touches[0],t.touches[1])/C.value*r.value;c.value=Math.min(Math.max(v,1),3)}else if(t.touches.length===1&&c.value>1){t.preventDefault();const m=t.touches[0].clientX-w.value.x,v=t.touches[0].clientY-w.value.y;u.value={x:y.value.x+m,y:y.value.y+v}}},S=()=>{c.value<=1?(c.value=1,u.value={x:0,y:0},y.value={x:0,y:0}):(r.value=c.value,y.value={...u.value})};return(t,m)=>(a(),l("div",{ref_key:"container",ref:o,class:"zoom-container",onTouchstart:z,onTouchmove:D,onTouchend:S},[s("div",{ref_key:"inner",ref:p,class:"zoom-content",style:Q(B.value)},[K(t.$slots,"default",{},void 0,!0)],4)],544))}},ht=I(pt,[["__scopeId","data-v-651b26db"]]),ft=["src","alt"],vt={__name:"PostImage",props:{imageSrc:{type:Object}},setup(e){const o=A(()=>{const r=e.imageSrc.alt.replace(/\.[^/.]+$/,"").replace(/-/g," ");return r.charAt(0).toUpperCase()+r.slice(1)}),p=i(!1);return(c,r)=>{const u=ht;return a(),l(q,null,[b(f(n(ut),null,null,512),[[T,!n(p)]]),f(u,null,{default:M(()=>[s("img",{class:L(["opacity-0",{hidden:!n(p),"block fade-in max-w-full max-h-full object-contain":n(p)}]),src:e.imageSrc.src,alt:n(o),onLoad:r[0]||(r[0]=y=>p.value=!0)},null,42,ft)]),_:1})],64)}}},xt={name:"MaterialSymbolsContentCopy"},_t={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function gt(e,o,p,c,r,u){return a(),l("svg",_t,o[0]||(o[0]=[s("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const yt=I(xt,[["render",gt]]),bt={name:"IcBaselineShare"},wt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function St(e,o,p,c,r,u){return a(),l("svg",wt,o[0]||(o[0]=[s("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const kt=I(bt,[["render",St]]),$t={key:0,class:"flex flex-col p-3 mb-5 shadow rounded-md"},Tt={key:0,class:"relative max-h-[476px]"},Lt={key:0,class:"w-0 h-0"},At={key:1,class:"flex gap-1 justify-center mt-4"},Ct={key:2,class:"font-semibold italic"},Dt=["innerHTML"],Pt=["innerHTML"],Mt={class:"flex flex-col"},It={class:"fade-in opacity-0 bg-gradient-to-t from-@white w-full h-6 -mt-6 z-10"},Bt={class:"relative flex items-center h-10 mt-3"},zt={class:"flex gap-2 absolute right-0"},Vt={key:0},jt={key:3,class:"flex flex-col mt-6"},qt={class:"flex flex-col gap-1"},Et={class:"flex flex-col items-center mt-2"},Nt={class:"w-fit"},Yt={class:"w-fit"},Xt={class:"text-@red"},Ft={class:"text-@blue"},Ht={__name:"Post",props:{post:{type:Object}},setup(e){const o=e,{$user:p,$sanitize:c}=tt(),{share:r,isSupported:u}=et(),{width:y}=st(),{deletePost:w}=ot(),C=nt(),d=i(null),h=i(1),B=typeof o.post.createdAt!="string"?o.post.createdAt.toDate().toLocaleString("pt-BR"):o.post.createdAt,z=typeof o.post.updatedAt!="string"?o.post.updatedAt.toDate().toLocaleString("pt-BR"):o.post.updatedAt,D=A(()=>({createdAtValue:B,updatedAtValue:z})),S=c(o.post.description),t=i(!1),m=A(()=>S.length>114?S.slice(0,115)+"...":S.slice(0,115)),v=async(P,x)=>{await w(P,x,"posts")};at(()=>{d.value&&d.value.addEventListener("scroll",E)}),lt(()=>{d.value&&d.value.removeEventListener("scroll",E)});const k=A(()=>y.value<=480?336:476),E=()=>{const P=Math.round(d.value.scrollLeft/k.value);h.value=P+1},X=()=>{d.value.scrollLeft+=k.value,h.value<o.post.imagesSrc.length&&(h.value+=1)},F=()=>{d.value.scrollLeft-=k.value,h.value>1&&(h.value-=1)},V=i(!1),H=async()=>{await navigator.clipboard.writeText(`https://oifabio.com.br/posts/${o.post.slug}`),V.value=!0,setTimeout(()=>V.value=!1,400)},O=()=>{r({title:"Fabio BS",text:"Fabio BS â€¢ Portfolio",url:`/posts/${o.post.slug}`})};return(P,x)=>{const R=vt,U=dt,W=mt,j=it,Z=yt,G=kt,J=ct("auto-animate");return e.post?(a(),l("div",$t,[e.post.imagesSrc.length>0?(a(),l("section",Tt,[s("ul",{class:"wrapper",ref_key:"wrapper",ref:d},[(a(!0),l(q,null,N(e.post.imagesSrc,$=>(a(),l("li",{key:$.path,class:"snap-center overflow-y-hidden min-w-[476px] sm:min-w-[336px] min-h-[318px] max-h-[476px] sm:min-h-[224px] sm:max-h-[336px] flex items-center justify-center"},[f(R,{imageSrc:$},null,8,["imageSrc"])]))),128))],512),e.post.imagesSrc.length>1?(a(),l("div",Lt,[b(s("button",{onClick:F,class:"opacity-0 fade-in"},[f(U,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[T,n(h)!=1]]),b(s("button",{onClick:X,class:"opacity-0 fade-in"},[f(W,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[T,n(h)!=e.post.imagesSrc.length]])])):_("",!0)])):_("",!0),e.post.imagesSrc.length>1?(a(),l("ul",At,[(a(!0),l(q,null,N(e.post.imagesSrc.length,$=>(a(),l("li",null,[s("div",{class:L(["w-2 h-2 rounded-full transition-all duration-300",$===n(h)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):_("",!0),f(j,{to:`/posts/${e.post.slug}`,class:"w-fit mb-2 mt-5"},{default:M(()=>[s("h2",{class:L(["relative title text-pretty after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",e.post.isActive?"":"!line-through text-@purple"])},g(e.post.headline),3)]),_:1},8,["to"]),e.post.subheadline?(a(),l("h3",Ct,g(e.post.subheadline),1)):_("",!0),b((a(),l("div",null,[n(t)?(a(),l("p",{key:1,innerHTML:n(S)},null,8,Pt)):(a(),l("p",{key:0,class:L({"line-through":!e.post.isActive}),innerHTML:n(m)},null,10,Dt))])),[[J,{duration:300}]]),b(s("div",Mt,[b(s("div",It,null,512),[[T,!n(t)]])],512),[[T,e.post.description.length>114]]),b(s("button",{class:"mt-2 font-bold",onClick:x[0]||(x[0]=$=>t.value=!n(t))},g(n(t)?"leia menos":"leia mais"),513),[[T,e.post.description.length>114]]),s("div",Bt,[n(C).name!==e.post.tag?(a(),rt(j,{key:0,class:"italic opacity-40 absolute left-0",to:{name:e.post.tag}},{default:M(()=>[Y("#mais projetos sobre "+g(e.post.tag),1)]),_:1},8,["to"])):_("",!0),s("div",zt,[s("button",null,[f(Z,{onClick:H,class:L(["text-3xl fill-@black/25 cursor-pointer transition-all",{"fill-@blue text-4xl":n(V)}])},null,8,["class"])]),n(u)?(a(),l("button",Vt,[f(G,{onClick:O,class:"text-3xl fill-@black/25 cursor-pointer"})])):_("",!0)])]),n(p)?(a(),l("div",jt,[s("div",qt,[f(j,{to:{name:"post",query:{id:e.post.id}},class:"btn hover:bg-@blue text-center"},{default:M(()=>x[2]||(x[2]=[Y("Update Post ")])),_:1},8,["to"]),s("button",{onClick:x[1]||(x[1]=$=>v(e.post.id,e.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),s("div",Et,[s("small",Nt,"Post ID: "+g(e.post.id),1),s("small",Yt,"Post priority: "+g(e.post.priority),1),s("small",Xt," Created: "+g(n(D).createdAtValue),1),s("small",Ft," Updated: "+g(n(D).updatedAtValue),1)])])):_("",!0)])):_("",!0)}}},Zt=I(Ht,[["__scopeId","data-v-37966801"]]);export{Zt as _};
