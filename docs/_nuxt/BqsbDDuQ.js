import{_ as Q}from"./BxGqV32a.js";import{_ as A,j as g,Y as C,c as l,o as a,w as _,d as e,a7 as $,e as n,a as x,a5 as Z,a1 as S,F as V,i as tt,ab as et,a3 as st,u as ot,T as nt,W as at,ac as lt,f as ct,l as h,r as N,b as z,t as f,a4 as it,a6 as rt,g as q}from"./s3A414tv.js";import{_ as ut}from"./xW-JwyQt.js";import{_ as dt}from"./DkhxMFeN.js";const mt=["src","alt"],pt={__name:"PostImage",props:{imageSrc:Object},setup(t){const s=g(!1),m=g(1),c=g({x:0,y:0});let b=0;function y(o,u){const d=u.clientX-o.clientX,v=u.clientY-o.clientY;return Math.hypot(d,v)}function T(o){const u=(o.touches[0].clientX+o.touches[1].clientX)/2,d=(o.touches[0].clientY+o.touches[1].clientY)/2;c.value={x:u,y:d}}const D=C(()=>({transform:`scale(${m.value}) translate(-${c.value.x}px, -${c.value.y}px)`,transformOrigin:`${c.value.x}px ${c.value.y}px`,transition:m.value===1?"transform 0.3s ease":"none"}));function I(o){o.touches.length===2&&(b=y(o.touches[0],o.touches[1]),T(o),m.value=1)}function i(o){if(o.touches.length===2){const d=y(o.touches[0],o.touches[1])/b;m.value=Math.min(Math.max(d,1),3),T(o)}}function r(){setTimeout(()=>{m.value=1,c.value={x:0,y:0}},200)}return(o,u)=>{const d=Q;return a(),l(V,null,[_(x(d,null,null,512),[[$,!n(s)]]),e("div",{ref:"zoomContainer",class:"zoom-container",onTouchstart:I,onTouchmove:i,onTouchend:r},[e("img",{class:S(["opacity-0",{hidden:!n(s),"block fade-in max-w-full max-h-full object-contain":n(s)}]),src:t.imageSrc.src,alt:o.altText,style:Z(n(D)),onLoad:u[0]||(u[0]=v=>s.value=!0)},null,46,mt)],544)],64)}}},ht=A(pt,[["__scopeId","data-v-2261b827"]]),ft={name:"MaterialSymbolsContentCopy"},xt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function vt(t,s,m,c,b,y){return a(),l("svg",xt,s[0]||(s[0]=[e("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const _t=A(ft,[["render",vt]]),gt={name:"IcBaselineShare"},bt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function yt(t,s,m,c,b,y){return a(),l("svg",bt,s[0]||(s[0]=[e("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const wt=A(gt,[["render",yt]]),$t={key:0,class:"flex flex-col p-3 mb-5 shadow rounded-md"},kt={key:0,class:"relative max-h-[476px]"},St={key:0,class:"w-0 h-0"},Tt={key:1,class:"flex gap-1 justify-center mt-4"},Lt={key:2,class:"font-semibold italic"},Ct=["innerHTML"],At=["innerHTML"],Dt={class:"flex flex-col"},It={class:"fade-in opacity-0 bg-gradient-to-t from-@white w-full h-6 -mt-6 z-10"},Mt={class:"relative flex items-center h-10 mt-3"},Pt={class:"flex gap-2 absolute right-0"},Bt={key:0},zt={key:3,class:"flex flex-col mt-6"},Vt={class:"flex flex-col gap-1"},jt={class:"flex flex-col items-center mt-2"},Nt={class:"w-fit"},qt={class:"w-fit"},Yt={class:"text-@red"},Et={class:"text-@blue"},Xt={__name:"Post",props:{post:{type:Object}},setup(t){const s=t,{$user:m,$sanitize:c}=tt(),{share:b,isSupported:y}=et(),{width:T}=st(),{deletePost:D}=ot(),I=nt(),i=g(null),r=g(1),o=typeof s.post.createdAt!="string"?s.post.createdAt.toDate().toLocaleString("pt-BR"):s.post.createdAt,u=typeof s.post.updatedAt!="string"?s.post.updatedAt.toDate().toLocaleString("pt-BR"):s.post.updatedAt,d=C(()=>({createdAtValue:o,updatedAtValue:u})),v=c(s.post.description),k=g(!1),Y=C(()=>v.length>114?v.slice(0,115)+"...":v.slice(0,115)),E=async(L,p)=>{await D(L,p,"posts")};at(()=>{i.value&&i.value.addEventListener("scroll",j)}),lt(()=>{i.value&&i.value.removeEventListener("scroll",j)});const M=C(()=>T.value<=480?336:476),j=()=>{const L=Math.round(i.value.scrollLeft/M.value);r.value=L+1},X=()=>{i.value.scrollLeft+=M.value,r.value<s.post.imagesSrc.length&&(r.value+=1)},F=()=>{i.value.scrollLeft-=M.value,r.value>1&&(r.value-=1)},P=g(!1),H=async()=>{await navigator.clipboard.writeText(`https://oifabio.com.br/posts/${s.post.slug}`),P.value=!0,setTimeout(()=>P.value=!1,400)},O=()=>{b({title:"Fabio BS",text:"Fabio BS â€¢ Portfolio",url:`/posts/${s.post.slug}`})};return(L,p)=>{const R=ht,U=ut,W=dt,B=it,G=_t,J=wt,K=ct("auto-animate");return t.post?(a(),l("div",$t,[t.post.imagesSrc.length>0?(a(),l("section",kt,[e("ul",{class:"wrapper",ref_key:"wrapper",ref:i},[(a(!0),l(V,null,N(t.post.imagesSrc,w=>(a(),l("li",{key:w.path,class:"snap-center overflow-y-hidden min-w-[476px] sm:min-w-[336px] min-h-[318px] max-h-[476px] sm:min-h-[224px] sm:max-h-[336px] flex items-center justify-center"},[x(R,{imageSrc:w},null,8,["imageSrc"])]))),128))],512),t.post.imagesSrc.length>1?(a(),l("div",St,[_(e("button",{onClick:F,class:"opacity-0 fade-in"},[x(U,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[$,n(r)!=1]]),_(e("button",{onClick:X,class:"opacity-0 fade-in"},[x(W,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[$,n(r)!=t.post.imagesSrc.length]])])):h("",!0)])):h("",!0),t.post.imagesSrc.length>1?(a(),l("ul",Tt,[(a(!0),l(V,null,N(t.post.imagesSrc.length,w=>(a(),l("li",null,[e("div",{class:S(["w-2 h-2 rounded-full transition-all duration-300",w===n(r)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):h("",!0),x(B,{to:`/posts/${t.post.slug}`,class:"w-fit mb-2 mt-5"},{default:z(()=>[e("h2",{class:S(["relative title text-pretty after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},f(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(a(),l("h3",Lt,f(t.post.subheadline),1)):h("",!0),_((a(),l("div",null,[n(k)?(a(),l("p",{key:1,innerHTML:n(v)},null,8,At)):(a(),l("p",{key:0,class:S({"line-through":!t.post.isActive}),innerHTML:n(Y)},null,10,Ct))])),[[K,{duration:300}]]),_(e("div",Dt,[_(e("div",It,null,512),[[$,!n(k)]])],512),[[$,t.post.description.length>114]]),_(e("button",{class:"mt-2 font-bold",onClick:p[0]||(p[0]=w=>k.value=!n(k))},f(n(k)?"leia menos":"leia mais"),513),[[$,t.post.description.length>114]]),e("div",Mt,[n(I).name!==t.post.tag?(a(),rt(B,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:z(()=>[q("#mais projetos sobre "+f(t.post.tag),1)]),_:1},8,["to"])):h("",!0),e("div",Pt,[e("button",null,[x(G,{onClick:H,class:S(["text-3xl fill-@black/25 cursor-pointer transition-all",{"fill-@blue text-4xl":n(P)}])},null,8,["class"])]),n(y)?(a(),l("button",Bt,[x(J,{onClick:O,class:"text-3xl fill-@black/25 cursor-pointer"})])):h("",!0)])]),n(m)?(a(),l("div",zt,[e("div",Vt,[x(B,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:z(()=>p[2]||(p[2]=[q("Update Post ")])),_:1},8,["to"]),e("button",{onClick:p[1]||(p[1]=w=>E(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),e("div",jt,[e("small",Nt,"Post ID: "+f(t.post.id),1),e("small",qt,"Post priority: "+f(t.post.priority),1),e("small",Yt," Created: "+f(n(d).createdAtValue),1),e("small",Et," Updated: "+f(n(d).updatedAtValue),1)])])):h("",!0)])):h("",!0)}}},Ut=A(Xt,[["__scopeId","data-v-37966801"]]);export{Ut as _};
