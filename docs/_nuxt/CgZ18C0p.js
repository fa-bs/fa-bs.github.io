import{_ as k,c as l,o,d as s,j as g,w as m,a6 as h,e as n,a as d,a1 as v,F as T,i as X,a7 as Z,a8 as tt,u as et,T as st,Y as A,W as ot,a9 as nt,f as lt,l as r,r as D,b as I,t as u,aa as at,ab as ct,g as V}from"./CRkSvVL-.js";import{_ as it,a as rt}from"./Cq8zfx-9.js";const ut={},dt={class:"flex flex-col justify-center items-center min-h-[476px] sm:min-h-[336px]"};function mt(t,e){return o(),l("div",dt,e[0]||(e[0]=[s("div",{class:"w-[15px] h-[15px] bg-@red rounded-full animate-bounce"},null,-1),s("small",null,"loading",-1)]))}const pt=k(ut,[["render",mt]]),ft=["src","alt"],ht={__name:"PostImage",props:{imageSrc:{type:Object}},setup(t){const e=g(!1);return(_,p)=>(o(),l(T,null,[m(d(n(pt),null,null,512),[[h,!n(e)]]),s("img",{class:v(["opacity-0",{hidden:!n(e),"block fade-in max-w-full max-h-full object-contain":n(e)}]),src:t.imageSrc.src,alt:t.imageSrc.alt,onLoad:p[0]||(p[0]=b=>e.value=!0)},null,42,ft)],64))}},xt={name:"MaterialSymbolsContentCopy"},gt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function vt(t,e,_,p,b,$){return o(),l("svg",gt,e[0]||(e[0]=[s("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const _t=k(xt,[["render",vt]]),bt={name:"IcBaselineShare"},wt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function yt(t,e,_,p,b,$){return o(),l("svg",wt,e[0]||(e[0]=[s("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const kt=k(bt,[["render",yt]]),$t={key:0,class:"flex flex-col p-3 mb-5 shadow rounded-md"},St={key:0,class:"relative max-h-[476px]"},Lt={key:0,class:"w-0 h-0"},Ct={key:1,class:"flex gap-1 justify-center mt-4"},At={key:2,class:"font-semibold italic"},It=["innerHTML"],Tt=["innerHTML"],Pt={class:"flex flex-col"},Bt={class:"fade-in opacity-0 bg-gradient-to-t from-@white w-full h-6 -mt-6 z-10"},Dt={class:"relative flex items-center h-10 mt-3"},Vt={class:"flex gap-2 absolute right-0"},Mt={key:0},jt={key:3,class:"flex flex-col mt-6"},zt={class:"flex flex-col gap-1"},Nt={class:"flex flex-col items-center mt-2"},qt={class:"w-fit"},Et={class:"w-fit"},Ft={class:"text-@red"},Ht={class:"text-@blue"},Rt={__name:"Post",props:{post:{type:Object}},setup(t){const e=t,{$user:_,$sanitize:p}=X(),{share:b,isSupported:$}=Z(),{width:M}=tt(),{deletePost:j}=et(),z=st(),a=g(null),c=g(1),N=typeof e.post.createdAt!="string"?e.post.createdAt.toDate().toLocaleString("pt-BR"):e.post.createdAt,q=typeof e.post.updatedAt!="string"?e.post.updatedAt.toDate().toLocaleString("pt-BR"):e.post.updatedAt,P=A(()=>({createdAtValue:N,updatedAtValue:q})),w=p(e.post.description),x=g(!1),E=A(()=>w.length>114?w.slice(0,115)+"...":w.slice(0,115)),F=async(y,i)=>{await j(y,i,"posts")};ot(()=>{a.value&&a.value.addEventListener("scroll",B)}),nt(()=>{a.value&&a.value.removeEventListener("scroll",B)});const S=A(()=>M.value<=480?336:476),B=()=>{const y=Math.round(a.value.scrollLeft/S.value);c.value=y+1},H=()=>{a.value.scrollLeft+=S.value,c.value<e.post.imagesSrc.length&&(c.value+=1)},R=()=>{a.value.scrollLeft-=S.value,c.value>1&&(c.value-=1)},L=g(!1),U=async()=>{await navigator.clipboard.writeText(`https://oifabio.com.br/posts/${e.post.slug}`),L.value=!0,setTimeout(()=>L.value=!1,400)},O=()=>{b({title:"Fabio BS",text:"Fabio BS â€¢ Portfolio",url:`/posts/${e.post.slug}`})};return(y,i)=>{const W=ht,Y=it,G=rt,C=at,J=_t,K=kt,Q=lt("auto-animate");return t.post?(o(),l("div",$t,[t.post.imagesSrc.length>0?(o(),l("section",St,[s("ul",{class:"wrapper",ref_key:"wrapper",ref:a},[(o(!0),l(T,null,D(t.post.imagesSrc,f=>(o(),l("li",{key:f.path,class:"snap-center overflow-y-hidden min-w-[476px] sm:min-w-[336px] min-h-[318px] max-h-[476px] sm:min-h-[224px] sm:max-h-[336px] flex items-center justify-center"},[d(W,{imageSrc:f},null,8,["imageSrc"])]))),128))],512),t.post.imagesSrc.length>1?(o(),l("div",Lt,[m(s("button",{onClick:R,class:"opacity-0 fade-in"},[d(Y,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[h,n(c)!=1]]),m(s("button",{onClick:H,class:"opacity-0 fade-in"},[d(G,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[h,n(c)!=t.post.imagesSrc.length]])])):r("",!0)])):r("",!0),t.post.imagesSrc.length>1?(o(),l("ul",Ct,[(o(!0),l(T,null,D(t.post.imagesSrc.length,f=>(o(),l("li",null,[s("div",{class:v(["w-2 h-2 rounded-full transition-all duration-300",f===n(c)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):r("",!0),d(C,{to:`/posts/${t.post.slug}`,class:"w-fit mb-2 mt-5"},{default:I(()=>[s("h2",{class:v(["relative title text-pretty after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},u(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(o(),l("h3",At,u(t.post.subheadline),1)):r("",!0),m((o(),l("div",null,[n(x)?(o(),l("p",{key:1,innerHTML:n(w)},null,8,Tt)):(o(),l("p",{key:0,class:v({"line-through":!t.post.isActive}),innerHTML:n(E)},null,10,It))])),[[Q,{duration:300}]]),m(s("div",Pt,[m(s("div",Bt,null,512),[[h,!n(x)]])],512),[[h,t.post.description.length>114]]),m(s("button",{class:"mt-2 font-bold",onClick:i[0]||(i[0]=f=>x.value=!n(x))},u(n(x)?"leia menos":"leia mais"),513),[[h,t.post.description.length>114]]),s("div",Dt,[n(z).name!==t.post.tag?(o(),ct(C,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:I(()=>[V("#mais projetos sobre "+u(t.post.tag),1)]),_:1},8,["to"])):r("",!0),s("div",Vt,[s("button",null,[d(J,{onClick:U,class:v(["text-3xl fill-@black/25 cursor-pointer transition-all",{"fill-@blue text-4xl":n(L)}])},null,8,["class"])]),n($)?(o(),l("button",Mt,[d(K,{onClick:O,class:"text-3xl fill-@black/25 cursor-pointer"})])):r("",!0)])]),n(_)?(o(),l("div",jt,[s("div",zt,[d(C,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:I(()=>i[2]||(i[2]=[V("Update Post ")])),_:1},8,["to"]),s("button",{onClick:i[1]||(i[1]=f=>F(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),s("div",Nt,[s("small",qt,"Post ID: "+u(t.post.id),1),s("small",Et,"Post priority: "+u(t.post.priority),1),s("small",Ft," Created: "+u(n(P).createdAtValue),1),s("small",Ht," Updated: "+u(n(P).updatedAtValue),1)])])):r("",!0)])):r("",!0)}}},Wt=k(Rt,[["__scopeId","data-v-972cbc69"]]);export{Wt as _};
