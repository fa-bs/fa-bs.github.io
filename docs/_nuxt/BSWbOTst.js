import{Y as k,j as f,c,o as l,w as h,d as s,a7 as _,e as o,a as d,a5 as Q,a1 as S,F as M,_ as V,i as Z,ab as tt,a3 as et,u as st,T as ot,W as nt,ac as at,f as lt,l as r,r as E,b as B,t as u,a4 as ct,a6 as it,g as N}from"./iFuAsAPm.js";import{_ as rt}from"./DDpAlXNl.js";import{_ as ut}from"./_umMZEQG.js";import{_ as dt}from"./CPOVhUAD.js";const mt=["src","alt"],pt={__name:"PostImage",props:{imageSrc:{type:Object}},setup(t){const a=k(()=>{const n=t.imageSrc.alt.replace(/\.[^/.]+$/,"").replace(/-/g," ");return n.charAt(0).toUpperCase()+n.slice(1)}),m=f(1),p=f({x:0,y:0}),b=k(()=>({transform:`scale(${m.value})`,transformOrigin:`${p.value.x}px ${p.value.y}px`,transition:m.value===1?"transform 0.3s ease":"none"}));function y(e,n){const g=n.clientX-e.clientX,A=n.clientY-e.clientY;return Math.hypot(g,A)}function L(e){if(e.touches.length===2){y(e.touches[0],e.touches[1]);const n=(e.touches[0].clientX+e.touches[1].clientX)/2,g=(e.touches[0].clientY+e.touches[1].clientY)/2;p.value={x:n,y:g}}}function C(){setTimeout(()=>{m.value=1},200)}const x=f(!1);return(e,n)=>(l(),c(M,null,[h(d(o(rt),null,null,512),[[_,!o(x)]]),s("img",{class:S(["opacity-0",{hidden:!o(x),"block fade-in max-w-full max-h-full object-contain":o(x)}]),src:t.imageSrc.src,alt:o(a),style:Q(o(b)),onLoad:n[0]||(n[0]=g=>x.value=!0),onTouchstart:L,onTouchend:C},null,46,mt)],64))}},ht={name:"MaterialSymbolsContentCopy"},ft={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function xt(t,a,m,p,b,y){return l(),c("svg",ft,a[0]||(a[0]=[s("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const gt=V(ht,[["render",xt]]),vt={name:"IcBaselineShare"},_t={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function bt(t,a,m,p,b,y){return l(),c("svg",_t,a[0]||(a[0]=[s("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const yt=V(vt,[["render",bt]]),wt={key:0,class:"flex flex-col p-3 mb-5 shadow rounded-md"},St={key:0,class:"relative max-h-[476px]"},kt={key:0,class:"w-0 h-0"},$t={key:1,class:"flex gap-1 justify-center mt-4"},Tt={key:2,class:"font-semibold italic"},Lt=["innerHTML"],Ct=["innerHTML"],At={class:"flex flex-col"},Dt={class:"fade-in opacity-0 bg-gradient-to-t from-@white w-full h-6 -mt-6 z-10"},It={class:"relative flex items-center h-10 mt-3"},Pt={class:"flex gap-2 absolute right-0"},Bt={key:0},Mt={key:3,class:"flex flex-col mt-6"},Vt={class:"flex flex-col gap-1"},zt={class:"flex flex-col items-center mt-2"},jt={class:"w-fit"},Et={class:"w-fit"},Nt={class:"text-@red"},qt={class:"text-@blue"},Yt={__name:"Post",props:{post:{type:Object}},setup(t){const a=t,{$user:m,$sanitize:p}=Z(),{share:b,isSupported:y}=tt(),{width:L}=et(),{deletePost:C}=st(),x=ot(),e=f(null),n=f(1),g=typeof a.post.createdAt!="string"?a.post.createdAt.toDate().toLocaleString("pt-BR"):a.post.createdAt,A=typeof a.post.updatedAt!="string"?a.post.updatedAt.toDate().toLocaleString("pt-BR"):a.post.updatedAt,z=k(()=>({createdAtValue:g,updatedAtValue:A})),$=p(a.post.description),w=f(!1),q=k(()=>$.length>114?$.slice(0,115)+"...":$.slice(0,115)),Y=async(T,i)=>{await C(T,i,"posts")};nt(()=>{e.value&&e.value.addEventListener("scroll",j)}),at(()=>{e.value&&e.value.removeEventListener("scroll",j)});const D=k(()=>L.value<=480?336:476),j=()=>{const T=Math.round(e.value.scrollLeft/D.value);n.value=T+1},X=()=>{e.value.scrollLeft+=D.value,n.value<a.post.imagesSrc.length&&(n.value+=1)},F=()=>{e.value.scrollLeft-=D.value,n.value>1&&(n.value-=1)},I=f(!1),H=async()=>{await navigator.clipboard.writeText(`https://oifabio.com.br/posts/${a.post.slug}`),I.value=!0,setTimeout(()=>I.value=!1,400)},R=()=>{b({title:"Fabio BS",text:"Fabio BS â€¢ Portfolio",url:`/posts/${a.post.slug}`})};return(T,i)=>{const U=pt,O=ut,W=dt,P=ct,G=gt,J=yt,K=lt("auto-animate");return t.post?(l(),c("div",wt,[t.post.imagesSrc.length>0?(l(),c("section",St,[s("ul",{class:"wrapper",ref_key:"wrapper",ref:e},[(l(!0),c(M,null,E(t.post.imagesSrc,v=>(l(),c("li",{key:v.path,class:"snap-center overflow-y-hidden min-w-[476px] sm:min-w-[336px] min-h-[318px] max-h-[476px] sm:min-h-[224px] sm:max-h-[336px] flex items-center justify-center"},[d(U,{imageSrc:v},null,8,["imageSrc"])]))),128))],512),t.post.imagesSrc.length>1?(l(),c("div",kt,[h(s("button",{onClick:F,class:"opacity-0 fade-in"},[d(O,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[_,o(n)!=1]]),h(s("button",{onClick:X,class:"opacity-0 fade-in"},[d(W,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[_,o(n)!=t.post.imagesSrc.length]])])):r("",!0)])):r("",!0),t.post.imagesSrc.length>1?(l(),c("ul",$t,[(l(!0),c(M,null,E(t.post.imagesSrc.length,v=>(l(),c("li",null,[s("div",{class:S(["w-2 h-2 rounded-full transition-all duration-300",v===o(n)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):r("",!0),d(P,{to:`/posts/${t.post.slug}`,class:"w-fit mb-2 mt-5"},{default:B(()=>[s("h2",{class:S(["relative title text-pretty after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},u(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(l(),c("h3",Tt,u(t.post.subheadline),1)):r("",!0),h((l(),c("div",null,[o(w)?(l(),c("p",{key:1,innerHTML:o($)},null,8,Ct)):(l(),c("p",{key:0,class:S({"line-through":!t.post.isActive}),innerHTML:o(q)},null,10,Lt))])),[[K,{duration:300}]]),h(s("div",At,[h(s("div",Dt,null,512),[[_,!o(w)]])],512),[[_,t.post.description.length>114]]),h(s("button",{class:"mt-2 font-bold",onClick:i[0]||(i[0]=v=>w.value=!o(w))},u(o(w)?"leia menos":"leia mais"),513),[[_,t.post.description.length>114]]),s("div",It,[o(x).name!==t.post.tag?(l(),it(P,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:B(()=>[N("#mais projetos sobre "+u(t.post.tag),1)]),_:1},8,["to"])):r("",!0),s("div",Pt,[s("button",null,[d(G,{onClick:H,class:S(["text-3xl fill-@black/25 cursor-pointer transition-all",{"fill-@blue text-4xl":o(I)}])},null,8,["class"])]),o(y)?(l(),c("button",Bt,[d(J,{onClick:R,class:"text-3xl fill-@black/25 cursor-pointer"})])):r("",!0)])]),o(m)?(l(),c("div",Mt,[s("div",Vt,[d(P,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:B(()=>i[2]||(i[2]=[N("Update Post ")])),_:1},8,["to"]),s("button",{onClick:i[1]||(i[1]=v=>Y(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),s("div",zt,[s("small",jt,"Post ID: "+u(t.post.id),1),s("small",Et,"Post priority: "+u(t.post.priority),1),s("small",Nt," Created: "+u(o(z).createdAtValue),1),s("small",qt," Updated: "+u(o(z).updatedAtValue),1)])])):r("",!0)])):r("",!0)}}},Ut=V(Yt,[["__scopeId","data-v-37966801"]]);export{Ut as _};
