import{_ as B,j as i,Y as C,c as a,o as l,d as s,ab as K,a5 as Q,e as o,w,a as v,a7 as T,b as I,a1 as A,F as E,i as tt,ac as et,a3 as st,u as ot,T as nt,W as lt,ad as at,f as ct,l as g,r as N,t as y,a4 as it,a6 as rt,g as Y}from"./jyVX14XO.js";import{_ as ut}from"./BmrDYHSZ.js";import{_ as dt}from"./CWWDVnFJ.js";import{_ as mt}from"./BjtQhLnK.js";const pt={__name:"ZoomOnPinch",setup(t){const n=i(null),h=i(null),c=i(1),r=i(1),u=i({x:0,y:0}),x=i({x:0,y:0}),S=i(null),D=i(null),d=i(null),m=(e,p)=>{const f=p.clientX-e.clientX,L=p.clientY-e.clientY;return Math.sqrt(f*f+L*L)},z=(e,p)=>({x:(e.clientX+p.clientX)/2,y:(e.clientY+p.clientY)/2}),V=C(()=>({transform:`scale(${c.value}) translate(${u.value.x}px, ${u.value.y}px)`,transition:"transform 0.3s ease-out",touchAction:"none"})),P=e=>{clearTimeout(d.value),e.touches.length===2?(S.value=z(e.touches[0],e.touches[1]),D.value=m(e.touches[0],e.touches[1])):e.touches.length===1&&c.value>1&&(S.value={x:e.touches[0].clientX,y:e.touches[0].clientY})},k=e=>{if(e.touches.length===2){e.preventDefault();const f=m(e.touches[0],e.touches[1])/D.value*r.value;c.value=Math.min(Math.max(f,1),3)}else if(e.touches.length===1&&c.value>1){e.preventDefault();const p=e.touches[0].clientX-S.value.x,f=e.touches[0].clientY-S.value.y;u.value={x:x.value.x+p,y:x.value.y+f}}},b=()=>{c.value>1?d.value=setTimeout(()=>{c.value=1,r.value=1,u.value={x:0,y:0},x.value={x:0,y:0}},300):(c.value=1,u.value={x:0,y:0},x.value={x:0,y:0}),r.value=c.value,x.value={...u.value}};return(e,p)=>(l(),a("div",{ref_key:"container",ref:n,class:"zoom-container",onTouchstart:P,onTouchmove:k,onTouchend:b},[s("div",{ref_key:"inner",ref:h,class:"zoom-content",style:Q(o(V))},[K(e.$slots,"default",{},void 0,!0)],4)],544))}},ht=B(pt,[["__scopeId","data-v-c84cc4b0"]]),ft=["src","alt"],vt={__name:"PostImage",props:{imageSrc:{type:Object}},setup(t){const n=C(()=>{const r=t.imageSrc.alt.replace(/\.[^/.]+$/,"").replace(/-/g," ");return r.charAt(0).toUpperCase()+r.slice(1)}),h=i(!1);return(c,r)=>{const u=ht;return l(),a(E,null,[w(v(o(ut),null,null,512),[[T,!o(h)]]),v(u,null,{default:I(()=>[s("img",{class:A(["opacity-0",{hidden:!o(h),"block fade-in max-w-full max-h-full object-contain":o(h)}]),src:t.imageSrc.src,alt:o(n),onLoad:r[0]||(r[0]=x=>h.value=!0)},null,42,ft)]),_:1})],64)}}},xt={name:"MaterialSymbolsContentCopy"},_t={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function gt(t,n,h,c,r,u){return l(),a("svg",_t,n[0]||(n[0]=[s("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const yt=B(xt,[["render",gt]]),bt={name:"IcBaselineShare"},wt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function St(t,n,h,c,r,u){return l(),a("svg",wt,n[0]||(n[0]=[s("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const kt=B(bt,[["render",St]]),$t={key:0,class:"flex flex-col p-3 mb-5 shadow rounded-md"},Tt={key:0,class:"relative max-h-[476px]"},Lt={key:0,class:"w-0 h-0"},At={key:1,class:"flex gap-1 justify-center mt-4"},Ct={key:2,class:"font-semibold italic"},Dt=["innerHTML"],Pt=["innerHTML"],Mt={class:"flex flex-col"},It={class:"fade-in opacity-0 bg-gradient-to-t from-@white w-full h-6 -mt-6 z-10"},Bt={class:"relative flex items-center h-10 mt-3"},zt={class:"flex gap-2 absolute right-0"},Vt={key:0},jt={key:3,class:"flex flex-col mt-6"},qt={class:"flex flex-col gap-1"},Et={class:"flex flex-col items-center mt-2"},Nt={class:"w-fit"},Yt={class:"w-fit"},Xt={class:"text-@red"},Ft={class:"text-@blue"},Ht={__name:"Post",props:{post:{type:Object}},setup(t){const n=t,{$user:h,$sanitize:c}=tt(),{share:r,isSupported:u}=et(),{width:x}=st(),{deletePost:S}=ot(),D=nt(),d=i(null),m=i(1),z=typeof n.post.createdAt!="string"?n.post.createdAt.toDate().toLocaleString("pt-BR"):n.post.createdAt,V=typeof n.post.updatedAt!="string"?n.post.updatedAt.toDate().toLocaleString("pt-BR"):n.post.updatedAt,P=C(()=>({createdAtValue:z,updatedAtValue:V})),k=c(n.post.description),b=i(!1),e=C(()=>k.length>114?k.slice(0,115)+"...":k.slice(0,115)),p=async(M,_)=>{await S(M,_,"posts")};lt(()=>{d.value&&d.value.addEventListener("scroll",L)}),at(()=>{d.value&&d.value.removeEventListener("scroll",L)});const f=C(()=>x.value<=480?336:476),L=()=>{const M=Math.round(d.value.scrollLeft/f.value);m.value=M+1},X=()=>{d.value.scrollLeft+=f.value,m.value<n.post.imagesSrc.length&&(m.value+=1)},F=()=>{d.value.scrollLeft-=f.value,m.value>1&&(m.value-=1)},j=i(!1),H=async()=>{await navigator.clipboard.writeText(`https://oifabio.com.br/posts/${n.post.slug}`),j.value=!0,setTimeout(()=>j.value=!1,400)},O=()=>{r({title:"Fabio BS",text:"Fabio BS â€¢ Portfolio",url:`/posts/${n.post.slug}`})};return(M,_)=>{const R=vt,U=dt,W=mt,q=it,Z=yt,G=kt,J=ct("auto-animate");return t.post?(l(),a("div",$t,[t.post.imagesSrc.length>0?(l(),a("section",Tt,[s("ul",{class:"wrapper",ref_key:"wrapper",ref:d},[(l(!0),a(E,null,N(t.post.imagesSrc,$=>(l(),a("li",{key:$.path,class:"snap-center overflow-y-hidden min-w-[476px] sm:min-w-[336px] min-h-[318px] max-h-[476px] sm:min-h-[224px] sm:max-h-[336px] flex items-center justify-center"},[v(R,{imageSrc:$},null,8,["imageSrc"])]))),128))],512),t.post.imagesSrc.length>1?(l(),a("div",Lt,[w(s("button",{onClick:F,class:"opacity-0 fade-in"},[v(U,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[T,o(m)!=1]]),w(s("button",{onClick:X,class:"opacity-0 fade-in"},[v(W,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[T,o(m)!=t.post.imagesSrc.length]])])):g("",!0)])):g("",!0),t.post.imagesSrc.length>1?(l(),a("ul",At,[(l(!0),a(E,null,N(t.post.imagesSrc.length,$=>(l(),a("li",null,[s("div",{class:A(["w-2 h-2 rounded-full transition-all duration-300",$===o(m)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):g("",!0),v(q,{to:`/posts/${t.post.slug}`,class:"w-fit mb-2 mt-5"},{default:I(()=>[s("h2",{class:A(["relative title text-pretty after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},y(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(l(),a("h3",Ct,y(t.post.subheadline),1)):g("",!0),w((l(),a("div",null,[o(b)?(l(),a("p",{key:1,innerHTML:o(k)},null,8,Pt)):(l(),a("p",{key:0,class:A({"line-through":!t.post.isActive}),innerHTML:o(e)},null,10,Dt))])),[[J,{duration:300}]]),w(s("div",Mt,[w(s("div",It,null,512),[[T,!o(b)]])],512),[[T,t.post.description.length>114]]),w(s("button",{class:"mt-2 font-bold",onClick:_[0]||(_[0]=$=>b.value=!o(b))},y(o(b)?"leia menos":"leia mais"),513),[[T,t.post.description.length>114]]),s("div",Bt,[o(D).name!==t.post.tag?(l(),rt(q,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:I(()=>[Y("#mais projetos sobre "+y(t.post.tag),1)]),_:1},8,["to"])):g("",!0),s("div",zt,[s("button",null,[v(Z,{onClick:H,class:A(["text-3xl fill-@black/25 cursor-pointer transition-all",{"fill-@blue text-4xl":o(j)}])},null,8,["class"])]),o(u)?(l(),a("button",Vt,[v(G,{onClick:O,class:"text-3xl fill-@black/25 cursor-pointer"})])):g("",!0)])]),o(h)?(l(),a("div",jt,[s("div",qt,[v(q,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:I(()=>_[2]||(_[2]=[Y("Update Post ")])),_:1},8,["to"]),s("button",{onClick:_[1]||(_[1]=$=>p(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),s("div",Et,[s("small",Nt,"Post ID: "+y(t.post.id),1),s("small",Yt,"Post priority: "+y(t.post.priority),1),s("small",Xt," Created: "+y(o(P).createdAtValue),1),s("small",Ft," Updated: "+y(o(P).updatedAtValue),1)])])):g("",!0)])):g("",!0)}}},Zt=B(Ht,[["__scopeId","data-v-37966801"]]);export{Zt as _};
