import{_ as z,j as i,Y as L,c as l,o as a,d as s,a5 as K,w,a as v,a7 as $,e as n,b as B,a1 as C,F as N,i as Q,ab as tt,a3 as et,u as st,T as ot,W as nt,ac as at,f as lt,l as g,r as q,t as y,a4 as ct,a6 as it,g as Y}from"./C30GHCx8.js";import{_ as rt}from"./CqU056Sm.js";import{_ as ut}from"./BZfaKxL3.js";import{_ as dt}from"./DSdh_8bK.js";const mt=["src","alt"],pt={__name:"ZoomOnPinch",props:{src:String,alt:String},setup(t){const o=i(null),p=i(null),c=i(1),r=i(1),d=i({x:0,y:0}),x=i({x:0,y:0}),A=i(0),T=i({x:0,y:0}),u=i(!1),h=L(()=>({transform:`translate(${d.value.x}px, ${d.value.y}px) scale(${c.value})`,transition:c.value===1?"transform 0.3s ease":"none",touchAction:"none"}));function D(e,m){const f=m.clientX-e.clientX,I=m.clientY-e.clientY;return Math.hypot(f,I)}function V(e,m){return{x:(e.clientX+m.clientX)/2,y:(e.clientY+m.clientY)/2}}function P(e){e.touches.length===2?(A.value=D(e.touches[0],e.touches[1]),T.value=V(e.touches[0],e.touches[1])):e.touches.length===1&&c.value>1&&(u.value=!0)}function S(e){if(e.touches.length===2){e.preventDefault();const f=D(e.touches[0],e.touches[1])/A.value*r.value;c.value=Math.min(Math.max(f,1),3)}else if(e.touches.length===1&&u.value){e.preventDefault();const m=e.touches[0].clientX-T.value.x,f=e.touches[0].clientY-T.value.y;d.value={x:x.value.x+m,y:x.value.y+f}}}function b(){c.value>1?setTimeout(()=>{c.value=1,r.value=1,d.value={x:0,y:0},x.value={x:0,y:0},u.value=!1},200):(c.value=1,d.value={x:0,y:0},x.value={x:0,y:0},u.value=!1),r.value=c.value,x.value={...d.value}}return(e,m)=>(a(),l("div",{ref_key:"container",ref:o,class:"zoom-wrapper",onTouchstart:P,onTouchmove:S,onTouchend:b},[s("img",{ref_key:"image",ref:p,src:t.src,alt:t.alt,class:"zoom-image",style:K(h.value)},null,12,mt)],544))}},ht=z(pt,[["__scopeId","data-v-520b7bdb"]]),ft=["src","alt"],vt={__name:"PostImage",props:{imageSrc:{type:Object}},setup(t){const o=L(()=>{const r=t.imageSrc.alt.replace(/\.[^/.]+$/,"").replace(/-/g," ");return r.charAt(0).toUpperCase()+r.slice(1)}),p=i(!1);return(c,r)=>{const d=ht;return a(),l(N,null,[w(v(n(rt),null,null,512),[[$,!n(p)]]),v(d,null,{default:B(()=>[s("img",{class:C(["opacity-0",{hidden:!n(p),"block fade-in max-w-full max-h-full object-contain":n(p)}]),src:t.imageSrc.src,alt:n(o),onLoad:r[0]||(r[0]=x=>p.value=!0)},null,42,ft)]),_:1})],64)}}},xt={name:"MaterialSymbolsContentCopy"},_t={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function gt(t,o,p,c,r,d){return a(),l("svg",_t,o[0]||(o[0]=[s("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const yt=z(xt,[["render",gt]]),bt={name:"IcBaselineShare"},wt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function St(t,o,p,c,r,d){return a(),l("svg",wt,o[0]||(o[0]=[s("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const kt=z(bt,[["render",St]]),$t={key:0,class:"flex flex-col p-3 mb-5 shadow rounded-md"},Tt={key:0,class:"relative max-h-[476px]"},Ct={key:0,class:"w-0 h-0"},Lt={key:1,class:"flex gap-1 justify-center mt-4"},At={key:2,class:"font-semibold italic"},Dt=["innerHTML"],Pt=["innerHTML"],It={class:"flex flex-col"},Mt={class:"fade-in opacity-0 bg-gradient-to-t from-@white w-full h-6 -mt-6 z-10"},Bt={class:"relative flex items-center h-10 mt-3"},zt={class:"flex gap-2 absolute right-0"},Vt={key:0},jt={key:3,class:"flex flex-col mt-6"},Et={class:"flex flex-col gap-1"},Nt={class:"flex flex-col items-center mt-2"},qt={class:"w-fit"},Yt={class:"w-fit"},Xt={class:"text-@red"},Ft={class:"text-@blue"},Ht={__name:"Post",props:{post:{type:Object}},setup(t){const o=t,{$user:p,$sanitize:c}=Q(),{share:r,isSupported:d}=tt(),{width:x}=et(),{deletePost:A}=st(),T=ot(),u=i(null),h=i(1),D=typeof o.post.createdAt!="string"?o.post.createdAt.toDate().toLocaleString("pt-BR"):o.post.createdAt,V=typeof o.post.updatedAt!="string"?o.post.updatedAt.toDate().toLocaleString("pt-BR"):o.post.updatedAt,P=L(()=>({createdAtValue:D,updatedAtValue:V})),S=c(o.post.description),b=i(!1),e=L(()=>S.length>114?S.slice(0,115)+"...":S.slice(0,115)),m=async(M,_)=>{await A(M,_,"posts")};nt(()=>{u.value&&u.value.addEventListener("scroll",I)}),at(()=>{u.value&&u.value.removeEventListener("scroll",I)});const f=L(()=>x.value<=480?336:476),I=()=>{const M=Math.round(u.value.scrollLeft/f.value);h.value=M+1},X=()=>{u.value.scrollLeft+=f.value,h.value<o.post.imagesSrc.length&&(h.value+=1)},F=()=>{u.value.scrollLeft-=f.value,h.value>1&&(h.value-=1)},j=i(!1),H=async()=>{await navigator.clipboard.writeText(`https://oifabio.com.br/posts/${o.post.slug}`),j.value=!0,setTimeout(()=>j.value=!1,400)},O=()=>{r({title:"Fabio BS",text:"Fabio BS â€¢ Portfolio",url:`/posts/${o.post.slug}`})};return(M,_)=>{const R=vt,U=ut,W=dt,E=ct,Z=yt,G=kt,J=lt("auto-animate");return t.post?(a(),l("div",$t,[t.post.imagesSrc.length>0?(a(),l("section",Tt,[s("ul",{class:"wrapper",ref_key:"wrapper",ref:u},[(a(!0),l(N,null,q(t.post.imagesSrc,k=>(a(),l("li",{key:k.path,class:"snap-center overflow-y-hidden min-w-[476px] sm:min-w-[336px] min-h-[318px] max-h-[476px] sm:min-h-[224px] sm:max-h-[336px] flex items-center justify-center"},[v(R,{imageSrc:k},null,8,["imageSrc"])]))),128))],512),t.post.imagesSrc.length>1?(a(),l("div",Ct,[w(s("button",{onClick:F,class:"opacity-0 fade-in"},[v(U,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[$,n(h)!=1]]),w(s("button",{onClick:X,class:"opacity-0 fade-in"},[v(W,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[$,n(h)!=t.post.imagesSrc.length]])])):g("",!0)])):g("",!0),t.post.imagesSrc.length>1?(a(),l("ul",Lt,[(a(!0),l(N,null,q(t.post.imagesSrc.length,k=>(a(),l("li",null,[s("div",{class:C(["w-2 h-2 rounded-full transition-all duration-300",k===n(h)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):g("",!0),v(E,{to:`/posts/${t.post.slug}`,class:"w-fit mb-2 mt-5"},{default:B(()=>[s("h2",{class:C(["relative title text-pretty after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},y(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(a(),l("h3",At,y(t.post.subheadline),1)):g("",!0),w((a(),l("div",null,[n(b)?(a(),l("p",{key:1,innerHTML:n(S)},null,8,Pt)):(a(),l("p",{key:0,class:C({"line-through":!t.post.isActive}),innerHTML:n(e)},null,10,Dt))])),[[J,{duration:300}]]),w(s("div",It,[w(s("div",Mt,null,512),[[$,!n(b)]])],512),[[$,t.post.description.length>114]]),w(s("button",{class:"mt-2 font-bold",onClick:_[0]||(_[0]=k=>b.value=!n(b))},y(n(b)?"leia menos":"leia mais"),513),[[$,t.post.description.length>114]]),s("div",Bt,[n(T).name!==t.post.tag?(a(),it(E,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:B(()=>[Y("#mais projetos sobre "+y(t.post.tag),1)]),_:1},8,["to"])):g("",!0),s("div",zt,[s("button",null,[v(Z,{onClick:H,class:C(["text-3xl fill-@black/25 cursor-pointer transition-all",{"fill-@blue text-4xl":n(j)}])},null,8,["class"])]),n(d)?(a(),l("button",Vt,[v(G,{onClick:O,class:"text-3xl fill-@black/25 cursor-pointer"})])):g("",!0)])]),n(p)?(a(),l("div",jt,[s("div",Et,[v(E,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:B(()=>_[2]||(_[2]=[Y("Update Post ")])),_:1},8,["to"]),s("button",{onClick:_[1]||(_[1]=k=>m(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),s("div",Nt,[s("small",qt,"Post ID: "+y(t.post.id),1),s("small",Yt,"Post priority: "+y(t.post.priority),1),s("small",Xt," Created: "+y(n(P).createdAtValue),1),s("small",Ft," Updated: "+y(n(P).updatedAtValue),1)])])):g("",!0)])):g("",!0)}}},Zt=z(Ht,[["__scopeId","data-v-37966801"]]);export{Zt as _};
