import{Y as S,j as v,c as a,o as n,w as f,d as e,a7 as x,e as s,a as p,a1 as b,F as T,_ as I,i as X,ab as Z,a3 as tt,u as et,T as st,W as ot,ac as nt,f as at,l as d,r as D,b as A,t as m,a4 as lt,a6 as ct,g as V}from"./CJGfN3lK.js";import{_ as it}from"./CWKGrsuY.js";import{_ as rt}from"./CpFwTFMd.js";import{_ as ut}from"./DWRWv5YU.js";const dt=["src","alt"],mt={__name:"PostImage",props:{imageSrc:{type:Object}},setup(t){const o=S(()=>{const l=t.imageSrc.alt.replace(/\.[^/.]+$/,"").replace(/-/g," ");return l.charAt(0).toUpperCase()+l.slice(1)}),c=v(!1);return(g,l)=>(n(),a(T,null,[f(p(s(it),null,null,512),[[x,!s(c)]]),e("img",{class:b(["opacity-0",{hidden:!s(c),"block fade-in max-w-full max-h-full object-contain":s(c)}]),src:t.imageSrc.src,alt:s(o),onLoad:l[0]||(l[0]=w=>c.value=!0)},null,42,dt)],64))}},pt={name:"MaterialSymbolsContentCopy"},ft={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function ht(t,o,c,g,l,w){return n(),a("svg",ft,o[0]||(o[0]=[e("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const xt=I(pt,[["render",ht]]),gt={name:"IcBaselineShare"},_t={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function vt(t,o,c,g,l,w){return n(),a("svg",_t,o[0]||(o[0]=[e("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const bt=I(gt,[["render",vt]]),wt={key:0,class:"flex flex-col p-3 mb-5 shadow rounded-md"},yt={key:0,class:"relative max-h-[476px]"},kt={key:0,class:"w-0 h-0"},St={key:1,class:"flex gap-1 justify-center mt-4"},$t={key:2,class:"font-semibold italic"},Lt=["innerHTML"],Ct=["innerHTML"],At={class:"flex flex-col"},Tt={class:"fade-in opacity-0 bg-gradient-to-t from-@white w-full h-6 -mt-6 z-10"},It={class:"relative flex items-center h-10 mt-3"},Pt={class:"flex gap-2 absolute right-0"},Bt={key:0},Dt={key:3,class:"flex flex-col mt-6"},Vt={class:"flex flex-col gap-1"},Mt={class:"flex flex-col items-center mt-2"},jt={class:"w-fit"},zt={class:"w-fit"},Nt={class:"text-@red"},qt={class:"text-@blue"},Et={__name:"Post",props:{post:{type:Object}},setup(t){const o=t,{$user:c,$sanitize:g}=X(),{share:l,isSupported:w}=Z(),{width:M}=tt(),{deletePost:j}=et(),z=st(),i=v(null),r=v(1),N=typeof o.post.createdAt!="string"?o.post.createdAt.toDate().toLocaleString("pt-BR"):o.post.createdAt,q=typeof o.post.updatedAt!="string"?o.post.updatedAt.toDate().toLocaleString("pt-BR"):o.post.updatedAt,P=S(()=>({createdAtValue:N,updatedAtValue:q})),y=g(o.post.description),_=v(!1),E=S(()=>y.length>114?y.slice(0,115)+"...":y.slice(0,115)),F=async(k,u)=>{await j(k,u,"posts")};ot(()=>{i.value&&i.value.addEventListener("scroll",B)}),nt(()=>{i.value&&i.value.removeEventListener("scroll",B)});const $=S(()=>M.value<=480?336:476),B=()=>{const k=Math.round(i.value.scrollLeft/$.value);r.value=k+1},H=()=>{i.value.scrollLeft+=$.value,r.value<o.post.imagesSrc.length&&(r.value+=1)},R=()=>{i.value.scrollLeft-=$.value,r.value>1&&(r.value-=1)},L=v(!1),U=async()=>{await navigator.clipboard.writeText(`https://oifabio.com.br/posts/${o.post.slug}`),L.value=!0,setTimeout(()=>L.value=!1,400)},O=()=>{l({title:"Fabio BS",text:"Fabio BS â€¢ Portfolio",url:`/posts/${o.post.slug}`})};return(k,u)=>{const W=mt,Y=rt,G=ut,C=lt,J=xt,K=bt,Q=at("auto-animate");return t.post?(n(),a("div",wt,[t.post.imagesSrc.length>0?(n(),a("section",yt,[e("ul",{class:"wrapper",ref_key:"wrapper",ref:i},[(n(!0),a(T,null,D(t.post.imagesSrc,h=>(n(),a("li",{key:h.path,class:"snap-center overflow-y-hidden min-w-[476px] sm:min-w-[336px] min-h-[318px] max-h-[476px] sm:min-h-[224px] sm:max-h-[336px] flex items-center justify-center"},[p(W,{imageSrc:h},null,8,["imageSrc"])]))),128))],512),t.post.imagesSrc.length>1?(n(),a("div",kt,[f(e("button",{onClick:R,class:"opacity-0 fade-in"},[p(Y,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[x,s(r)!=1]]),f(e("button",{onClick:H,class:"opacity-0 fade-in"},[p(G,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[x,s(r)!=t.post.imagesSrc.length]])])):d("",!0)])):d("",!0),t.post.imagesSrc.length>1?(n(),a("ul",St,[(n(!0),a(T,null,D(t.post.imagesSrc.length,h=>(n(),a("li",null,[e("div",{class:b(["w-2 h-2 rounded-full transition-all duration-300",h===s(r)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):d("",!0),p(C,{to:`/posts/${t.post.slug}`,class:"w-fit mb-2 mt-5"},{default:A(()=>[e("h2",{class:b(["relative title text-pretty after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},m(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(n(),a("h3",$t,m(t.post.subheadline),1)):d("",!0),f((n(),a("div",null,[s(_)?(n(),a("p",{key:1,innerHTML:s(y)},null,8,Ct)):(n(),a("p",{key:0,class:b({"line-through":!t.post.isActive}),innerHTML:s(E)},null,10,Lt))])),[[Q,{duration:300}]]),f(e("div",At,[f(e("div",Tt,null,512),[[x,!s(_)]])],512),[[x,t.post.description.length>114]]),f(e("button",{class:"mt-2 font-bold",onClick:u[0]||(u[0]=h=>_.value=!s(_))},m(s(_)?"leia menos":"leia mais"),513),[[x,t.post.description.length>114]]),e("div",It,[s(z).name!==t.post.tag?(n(),ct(C,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:A(()=>[V("#mais projetos sobre "+m(t.post.tag),1)]),_:1},8,["to"])):d("",!0),e("div",Pt,[e("button",null,[p(J,{onClick:U,class:b(["text-3xl fill-@black/25 cursor-pointer transition-all",{"fill-@blue text-4xl":s(L)}])},null,8,["class"])]),s(w)?(n(),a("button",Bt,[p(K,{onClick:O,class:"text-3xl fill-@black/25 cursor-pointer"})])):d("",!0)])]),s(c)?(n(),a("div",Dt,[e("div",Vt,[p(C,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:A(()=>u[2]||(u[2]=[V("Update Post ")])),_:1},8,["to"]),e("button",{onClick:u[1]||(u[1]=h=>F(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),e("div",Mt,[e("small",jt,"Post ID: "+m(t.post.id),1),e("small",zt,"Post priority: "+m(t.post.priority),1),e("small",Nt," Created: "+m(s(P).createdAtValue),1),e("small",qt," Updated: "+m(s(P).updatedAtValue),1)])])):d("",!0)])):d("",!0)}}},Ot=I(Et,[["__scopeId","data-v-37966801"]]);export{Ot as _};
