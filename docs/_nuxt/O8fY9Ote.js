import{bV as g,o as e,c as o,d as s,j as h,h as l,Z as M,_ as c,a as r,aJ as x,F as L,bT as G,X as I,u as K,bW as Q,r as Y,g as V,b as w,bH as S,w as C,bi as f,f as D,c1 as tt}from"./Dd0JKqtd.js";import{_ as et}from"./D7ZnZ2kf.js";import{u as st,_ as ot}from"./hNn_m4GV.js";const nt={},at={class:"lds-ellipsis"};function lt(t,n){return e(),o("div",at,n[0]||(n[0]=[s("div",null,null,-1),s("div",null,null,-1),s("div",null,null,-1),s("div",null,null,-1)]))}const ct=g(nt,[["render",lt],["__scopeId","data-v-319f1879"]]),it={__name:"PostImage",props:{imageSrc:{type:Object}},setup(t){const n=h(!1);return(_,u)=>{const m=ct,a=et;return e(),o(L,null,[l(n)?c("",!0):(e(),M(m,{key:0})),r(a,{class:x(["opacity-0 max-w-full max-h-full object-contain",{"fade-in":l(n)}]),src:t.imageSrc.src,alt:t.imageSrc.alt,format:"avif, webp, png",placeholder:"",onLoad:u[0]||(u[0]=A=>n.value=!0)},null,8,["class","src","alt"])],64)}}},rt={name:"MdiChevronLeftCircle"},ut={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function dt(t,n,_,u,m,a){return e(),o("svg",ut,n[0]||(n[0]=[s("path",{d:"M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12A10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.6 4.6L10.8 12l4.6-4.6L14 6l-6 6l6 6z"},null,-1)]))}const mt=g(rt,[["render",dt]]),pt={name:"MaterialSymbolsContentCopy"},ft={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function _t(t,n,_,u,m,a){return e(),o("svg",ft,n[0]||(n[0]=[s("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const ht=g(pt,[["render",_t]]),xt={name:"IcBaselineShare"},gt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function vt(t,n,_,u,m,a){return e(),o("svg",gt,n[0]||(n[0]=[s("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const bt=g(xt,[["render",vt]]),wt={key:0,class:"flex flex-col p-3 mb-3 shadow rounded-md"},$t={key:0,class:"relative max-h-[476px]"},yt={key:0,class:"w-0 h-0"},kt={key:1,class:"flex gap-1 justify-center mt-4"},St={key:2,class:"font-semibold italic text-lg mt-2"},Ct=["innerHTML"],Lt=["innerHTML"],At={class:"relative flex items-center h-10 mt-3"},Tt={class:"flex gap-2 absolute right-0"},Bt={key:0},It={key:3,class:"flex flex-col mt-6"},Vt={class:"flex flex-col gap-1"},Dt={class:"flex gap-2 self-center sm:flex-col sm:gap-0 mt-1"},Mt={class:"text-@green"},Pt={class:"text-@blue"},jt={__name:"Post",props:{post:{type:Object}},setup(t){const{$user:n,$sanitize:_}=G(),{share:u,isSupported:m}=st(),a=t,A=typeof a.post.createdAt!="string"?a.post.createdAt.toDate().toLocaleString("pt-BR"):a.post.createdAt,P=typeof a.post.updatedAt!="string"?a.post.updatedAt.toDate().toLocaleString("pt-BR"):a.post.updatedAt,T=I(()=>({createdAtValue:A,updatedAtValue:P})),v=_(a.post.description),b=h(!1),j=I(()=>v.length>114?v.slice(0,115)+"...":v.slice(0,115)),{deletePost:N}=K(),q=async(B,i)=>{await N(B,i,"posts")},z=Q(),$=h(),d=h(1),H=()=>{$.value.scrollLeft+=250,d.value<a.post.imagesSrc.length&&(d.value+=1)},R=()=>{$.value.scrollLeft-=250,d.value>1&&(d.value-=1)},y=h(!1),F=async()=>{await navigator.clipboard.writeText(`oifabio.com.br/posts/${a.post.slug}`),y.value=!0,setTimeout(()=>y.value=!1,400)},E=()=>{u({title:"Fabio BS ",text:a.post.headline,url:`oifabio.com.br/posts/${a.post.slug}`})};return(B,i)=>{const O=it,U=mt,J=ot,k=tt,W=ht,X=bt,Z=Y("auto-animate");return t.post?(e(),o("div",wt,[t.post.imagesSrc.length>0?(e(),o("section",$t,[s("ul",{class:"wrapper",ref_key:"wrapper",ref:$},[(e(!0),o(L,null,V(t.post.imagesSrc,p=>(e(),o("li",{key:p.path,class:"snap-center overflow-y-hidden min-w-[476px] max-h-[476px] min-h-[476px] sm:min-w-[356px] sm:min-h-[356px] sm:max-h-[356px] flex items-center justify-center"},[r(O,{imageSrc:p},null,8,["imageSrc"])]))),128))],512),t.post.imagesSrc.length>1?(e(),o("div",yt,[w(s("button",{onClick:R,class:"opacity-0 fade-in"},[r(U,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[S,l(d)!=1]]),w(s("button",{onClick:H,class:"opacity-0 fade-in"},[r(J,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[S,l(d)!=t.post.imagesSrc.length]])])):c("",!0)])):c("",!0),t.post.imagesSrc.length>1?(e(),o("ul",kt,[(e(!0),o(L,null,V(t.post.imagesSrc.length,p=>(e(),o("li",null,[s("div",{class:x(["w-2 h-2 rounded-full transition-all duration-300",p===l(d)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):c("",!0),r(k,{to:`/posts/${t.post.slug}`,class:"w-fit mb-1 mt-4"},{default:C(()=>[s("h2",{class:x(["relative title after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},f(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(e(),o("h3",St,f(t.post.subheadline),1)):c("",!0),w((e(),o("div",null,[l(b)?(e(),o("p",{key:1,innerHTML:l(v)},null,8,Lt)):(e(),o("p",{key:0,class:x({"line-through":!t.post.isActive}),innerHTML:l(j)},null,10,Ct))])),[[Z,{duration:300}]]),w(s("button",{class:"mt-2 font-bold hover:text-@blue",onClick:i[0]||(i[0]=p=>b.value=!l(b))},f(l(b)?"leia menos":"leia mais"),513),[[S,t.post.description.length>114]]),s("div",At,[l(z).name!==t.post.tag?(e(),M(k,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:C(()=>[D("#mais projetos sobre "+f(t.post.tag),1)]),_:1},8,["to"])):c("",!0),s("div",Tt,[s("button",null,[r(W,{onClick:F,class:x(["text-2xl fill-@black/40 cursor-pointer transition-all",{"fill-@blue text-3xl":l(y)}])},null,8,["class"])]),l(m)?(e(),o("button",Bt,[r(X,{onClick:E,class:"text-2xl fill-@black/40 cursor-pointer"})])):c("",!0)])]),l(n)?(e(),o("div",It,[s("div",Vt,[r(k,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:C(()=>i[2]||(i[2]=[D("Update Post ")])),_:1},8,["to"]),s("button",{onClick:i[1]||(i[1]=p=>q(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),s("div",Dt,[s("small",Mt," Created: "+f(l(T).createdAtValue),1),s("small",Pt," Updated: "+f(l(T).updatedAtValue),1)])])):c("",!0)])):c("",!0)}}},Ht=g(jt,[["__scopeId","data-v-2291a41e"]]);export{Ht as _,mt as a};
