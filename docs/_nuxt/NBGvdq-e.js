import{_ as v,c as o,o as e,d as s,j as x,ae as P,l as c,a as d,e as a,a0 as g,F as A,i as Q,af as X,Y as M,u as Z,T as tt,W as et,a9 as st,f as ot,w as y,r as D,ag as L,b as C,t as _,ah as nt,g as V}from"./3L3jLdLY.js";import{_ as lt}from"./DsTMl0JJ.js";import{_ as at}from"./dLB37BRC.js";const ct={},it={class:"lds-ellipsis"};function rt(t,n){return e(),o("div",it,n[0]||(n[0]=[s("div",null,null,-1),s("div",null,null,-1),s("div",null,null,-1),s("div",null,null,-1)]))}const ut=v(ct,[["render",rt],["__scopeId","data-v-319f1879"]]),dt={__name:"PostImage",props:{imageSrc:{type:Object}},setup(t){const n=x(!1);return(h,m)=>{const p=ut,l=lt;return e(),o(A,null,[a(n)?c("",!0):(e(),P(p,{key:0})),d(l,{class:g(["opacity-0 max-w-full max-h-full w-full h-full object-contain",{"fade-in":a(n)}]),src:t.imageSrc.src,alt:t.imageSrc.alt,format:"avif, webp, png",placeholder:"",onLoad:m[0]||(m[0]=T=>n.value=!0)},null,8,["class","src","alt"])],64)}}},mt={name:"MdiChevronLeftCircle"},pt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function ft(t,n,h,m,p,l){return e(),o("svg",pt,n[0]||(n[0]=[s("path",{d:"M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12A10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.6 4.6L10.8 12l4.6-4.6L14 6l-6 6l6 6z"},null,-1)]))}const _t=v(mt,[["render",ft]]),ht={name:"MaterialSymbolsContentCopy"},xt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function gt(t,n,h,m,p,l){return e(),o("svg",xt,n[0]||(n[0]=[s("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const vt=v(ht,[["render",gt]]),bt={name:"IcBaselineShare"},wt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function $t(t,n,h,m,p,l){return e(),o("svg",wt,n[0]||(n[0]=[s("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const yt=v(bt,[["render",$t]]),kt={key:0,class:"flex flex-col p-3 mb-3 shadow rounded-md"},St={key:0,class:"relative max-h-[476px]"},Lt={key:0,class:"w-0 h-0"},Ct={key:1,class:"flex gap-1 justify-center mt-4"},At={key:2,class:"font-semibold italic text-lg mt-2"},Tt=["innerHTML"],It=["innerHTML"],Bt={class:"relative flex items-center h-10 mt-3"},Mt={class:"flex gap-2 absolute right-0"},Dt={key:0},Vt={key:3,class:"flex flex-col mt-6"},Pt={class:"flex flex-col gap-1"},jt={class:"flex gap-2 self-center sm:flex-col sm:gap-0 mt-1"},Nt={class:"text-@green"},qt={class:"text-@blue"},zt={__name:"Post",props:{post:{type:Object}},setup(t){const{$user:n,$sanitize:h}=Q(),{share:m,isSupported:p}=X(),l=t,T=typeof l.post.createdAt!="string"?l.post.createdAt.toDate().toLocaleString("pt-BR"):l.post.createdAt,j=typeof l.post.updatedAt!="string"?l.post.updatedAt.toDate().toLocaleString("pt-BR"):l.post.updatedAt,I=M(()=>({createdAtValue:T,updatedAtValue:j})),b=h(l.post.description),w=x(!1),N=M(()=>b.length>114?b.slice(0,115)+"...":b.slice(0,115)),{deletePost:q}=Z(),z=async($,u)=>{await q($,u,"posts")},E=tt(),i=x(null),r=x(1);et(()=>{i.value&&i.value.addEventListener("scroll",B)}),st(()=>{i.value&&i.value.removeEventListener("scroll",B)});const B=()=>{const $=Math.round(i.value.scrollLeft/476);r.value=$+1},H=()=>{i.value.scrollLeft+=476,r.value<l.post.imagesSrc.length&&(r.value+=1)},R=()=>{i.value.scrollLeft-=476,r.value>1&&(r.value-=1)},k=x(!1),F=async()=>{await navigator.clipboard.writeText(`oifabio.com.br/posts/${l.post.slug}`),k.value=!0,setTimeout(()=>k.value=!1,400)},U=()=>{m({title:"Fabio BS",text:`${l.post.headline}:`,url:`/posts/${l.post.slug}`})};return($,u)=>{const O=dt,W=_t,Y=at,S=nt,G=vt,J=yt,K=ot("auto-animate");return t.post?(e(),o("div",kt,[t.post.imagesSrc.length>0?(e(),o("section",St,[s("ul",{class:"wrapper",ref_key:"wrapper",ref:i},[(e(!0),o(A,null,D(t.post.imagesSrc,f=>(e(),o("li",{key:f.path,class:"snap-center overflow-y-hidden min-w-[476px] max-h-[476px] min-h-[476px] sm:min-w-[356px] sm:min-h-[356px] sm:max-h-[356px] flex items-center justify-center"},[d(O,{imageSrc:f},null,8,["imageSrc"])]))),128))],512),t.post.imagesSrc.length>1?(e(),o("div",Lt,[y(s("button",{onClick:R,class:"opacity-0 fade-in"},[d(W,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[L,a(r)!=1]]),y(s("button",{onClick:H,class:"opacity-0 fade-in"},[d(Y,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[L,a(r)!=t.post.imagesSrc.length]])])):c("",!0)])):c("",!0),t.post.imagesSrc.length>1?(e(),o("ul",Ct,[(e(!0),o(A,null,D(t.post.imagesSrc.length,f=>(e(),o("li",null,[s("div",{class:g(["w-2 h-2 rounded-full transition-all duration-300",f===a(r)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):c("",!0),d(S,{to:`/posts/${t.post.slug}`,class:"w-fit mb-1 mt-4"},{default:C(()=>[s("h2",{class:g(["relative title after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},_(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(e(),o("h3",At,_(t.post.subheadline),1)):c("",!0),y((e(),o("div",null,[a(w)?(e(),o("p",{key:1,innerHTML:a(b)},null,8,It)):(e(),o("p",{key:0,class:g({"line-through":!t.post.isActive}),innerHTML:a(N)},null,10,Tt))])),[[K,{duration:300}]]),y(s("button",{class:"mt-2 font-bold hover:text-@blue",onClick:u[0]||(u[0]=f=>w.value=!a(w))},_(a(w)?"leia menos":"leia mais"),513),[[L,t.post.description.length>114]]),s("div",Bt,[a(E).name!==t.post.tag?(e(),P(S,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:C(()=>[V("#mais projetos sobre "+_(t.post.tag),1)]),_:1},8,["to"])):c("",!0),s("div",Mt,[s("button",null,[d(G,{onClick:F,class:g(["text-2xl fill-@black/40 cursor-pointer transition-all",{"fill-@blue text-3xl":a(k)}])},null,8,["class"])]),a(p)?(e(),o("button",Dt,[d(J,{onClick:U,class:"text-2xl fill-@black/40 cursor-pointer"})])):c("",!0)])]),a(n)?(e(),o("div",Vt,[s("div",Pt,[d(S,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:C(()=>u[2]||(u[2]=[V("Update Post ")])),_:1},8,["to"]),s("button",{onClick:u[1]||(u[1]=f=>z(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),s("div",jt,[s("small",Nt," Created: "+_(a(I).createdAtValue),1),s("small",qt," Updated: "+_(a(I).updatedAtValue),1)])])):c("",!0)])):c("",!0)}}},Ft=v(zt,[["__scopeId","data-v-91a8460c"]]);export{Ft as _,_t as a};
