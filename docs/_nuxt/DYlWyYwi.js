import{Y as T,j as y,c as a,o as n,w as x,d as s,a7 as w,e as o,a as u,a1 as $,F as B,_ as A,W as j,ab as tt,ac as et,i as st,ad as ot,a3 as nt,u as at,T as lt,ae as ct,f as it,l as f,b as C,r as z,t as h,a4 as rt,a6 as ut,g as V}from"./GbocR-H5.js";import{_ as dt}from"./DuQtCKQy.js";import{_ as mt}from"./SgXGEhAW.js";import{_ as pt}from"./C3BX9KfR.js";const ft=["src","alt"],ht={__name:"PostImage",props:{imageSrc:{type:Object}},setup(t){const e=T(()=>{const i=t.imageSrc.alt.replace(/\.[^/.]+$/,"").replace(/-/g," ");return i.charAt(0).toUpperCase()+i.slice(1)}),c=y(!1);return(_,i)=>(n(),a(B,null,[x(u(o(dt),null,null,512),[[w,!o(c)]]),s("img",{class:$(["opacity-0",{hidden:!o(c),"block fade-in max-w-full max-h-full object-contain":o(c)}]),src:t.imageSrc.src,alt:o(e),onLoad:i[0]||(i[0]=v=>c.value=!0)},null,42,ft)],64))}},_t={__name:"ZoomOnPinch",setup(t){const e=y(null);let c=null;const _=(l,d)=>{const g=d.clientX-l.clientX,r=d.clientY-l.clientY;return Math.sqrt(g*g+r*r)},i=l=>{if(l.touches.length===2){const d=_(l.touches[0],l.touches[1]);c||(c=d);const g=d/c;e.value.style.transform=`scale(${g})`}},v=()=>{e.value.style.transform="scale(1)",c=null};return j(()=>{const l=e.value;l.addEventListener("touchmove",i,{passive:!1}),l.addEventListener("touchend",v)}),tt(()=>{const l=e.value;l.removeEventListener("touchmove",i),l.removeEventListener("touchend",v)}),(l,d)=>(n(),a("div",{ref_key:"zoomContainer",ref:e,class:"zoom-wrapper"},[et(l.$slots,"default",{},void 0,!0)],512))}},vt=A(_t,[["__scopeId","data-v-2971db15"]]),xt={name:"MaterialSymbolsContentCopy"},gt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function bt(t,e,c,_,i,v){return n(),a("svg",gt,e[0]||(e[0]=[s("path",{d:"M9 18q-.825 0-1.412-.587T7 16V4q0-.825.588-1.412T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.587 1.413T18 18zm-4 4q-.825 0-1.412-.587T3 20V6h2v14h11v2z"},null,-1)]))}const wt=A(xt,[["render",bt]]),yt={name:"IcBaselineShare"},kt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function $t(t,e,c,_,i,v){return n(),a("svg",kt,e[0]||(e[0]=[s("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"},null,-1)]))}const St=A(yt,[["render",$t]]),Lt={key:0,class:"flex flex-col p-3 mb-5 shadow rounded-md"},Ct={key:0,class:"relative max-h-[476px]"},Tt={key:0,class:"w-0 h-0"},At={key:1,class:"flex gap-1 justify-center mt-4"},Pt={key:2,class:"font-semibold italic"},Dt=["innerHTML"],It=["innerHTML"],Bt={class:"flex flex-col"},Et={class:"fade-in opacity-0 bg-gradient-to-t from-@white w-full h-6 -mt-6 z-10"},Mt={class:"relative flex items-center h-10 mt-3"},zt={class:"flex gap-2 absolute right-0"},Vt={key:0},jt={key:3,class:"flex flex-col mt-6"},qt={class:"flex flex-col gap-1"},Nt={class:"flex flex-col items-center mt-2"},Ut={class:"w-fit"},Ft={class:"w-fit"},Ht={class:"text-@red"},Ot={class:"text-@blue"},Rt={__name:"Post",props:{post:{type:Object}},setup(t){const e=t,{$user:c,$sanitize:_}=st(),{share:i,isSupported:v}=ot(),{width:l}=nt(),{deletePost:d}=at(),g=lt(),r=y(null),m=y(1),q=typeof e.post.createdAt!="string"?e.post.createdAt.toDate().toLocaleString("pt-BR"):e.post.createdAt,N=typeof e.post.updatedAt!="string"?e.post.updatedAt.toDate().toLocaleString("pt-BR"):e.post.updatedAt,E=T(()=>({createdAtValue:q,updatedAtValue:N})),S=_(e.post.description),k=y(!1),U=T(()=>S.length>114?S.slice(0,115)+"...":S.slice(0,115)),F=async(L,p)=>{await d(L,p,"posts")};j(()=>{r.value&&r.value.addEventListener("scroll",M)}),ct(()=>{r.value&&r.value.removeEventListener("scroll",M)});const P=T(()=>l.value<=480?336:476),M=()=>{const L=Math.round(r.value.scrollLeft/P.value);m.value=L+1},H=()=>{r.value.scrollLeft+=P.value,m.value<e.post.imagesSrc.length&&(m.value+=1)},O=()=>{r.value.scrollLeft-=P.value,m.value>1&&(m.value-=1)},D=y(!1),R=async()=>{await navigator.clipboard.writeText(`https://oifabio.com.br/posts/${e.post.slug}`),D.value=!0,setTimeout(()=>D.value=!1,400)},Y=()=>{i({title:"Fabio BS",text:"Fabio BS â€¢ Portfolio",url:`/posts/${e.post.slug}`})};return(L,p)=>{const W=ht,X=vt,Z=mt,G=pt,I=rt,J=wt,K=St,Q=it("auto-animate");return t.post?(n(),a("div",Lt,[t.post.imagesSrc.length>0?(n(),a("section",Ct,[s("ul",{class:"wrapper",ref_key:"wrapper",ref:r},[u(X,null,{default:C(()=>[(n(!0),a(B,null,z(t.post.imagesSrc,b=>(n(),a("li",{key:b.path,class:"snap-center overflow-y-hidden min-w-[476px] sm:min-w-[336px] min-h-[318px] max-h-[476px] sm:min-h-[224px] sm:max-h-[336px] flex items-center justify-center"},[u(W,{imageSrc:b},null,8,["imageSrc"])]))),128))]),_:1})],512),t.post.imagesSrc.length>1?(n(),a("div",Tt,[x(s("button",{onClick:O,class:"opacity-0 fade-in"},[u(Z,{class:"absolute left-0 top-1/2 ml-1 fill-@black/70 text-2xl"})],512),[[w,o(m)!=1]]),x(s("button",{onClick:H,class:"opacity-0 fade-in"},[u(G,{class:"absolute right-0 top-1/2 mr-1 fill-@black/70 text-2xl"})],512),[[w,o(m)!=t.post.imagesSrc.length]])])):f("",!0)])):f("",!0),t.post.imagesSrc.length>1?(n(),a("ul",At,[(n(!0),a(B,null,z(t.post.imagesSrc.length,b=>(n(),a("li",null,[s("div",{class:$(["w-2 h-2 rounded-full transition-all duration-300",b===o(m)?"bg-@black scale-125":"bg-@black/25"])},null,2)]))),256))])):f("",!0),u(I,{to:`/posts/${t.post.slug}`,class:"w-fit mb-2 mt-5"},{default:C(()=>[s("h2",{class:$(["relative title text-pretty after:opacity-40 after:ml-1 after:absolute after:bottom-2 after:content-[url('~/assets/icons/icon-open.svg')]",t.post.isActive?"":"!line-through text-@purple"])},h(t.post.headline),3)]),_:1},8,["to"]),t.post.subheadline?(n(),a("h3",Pt,h(t.post.subheadline),1)):f("",!0),x((n(),a("div",null,[o(k)?(n(),a("p",{key:1,innerHTML:o(S)},null,8,It)):(n(),a("p",{key:0,class:$({"line-through":!t.post.isActive}),innerHTML:o(U)},null,10,Dt))])),[[Q,{duration:300}]]),x(s("div",Bt,[x(s("div",Et,null,512),[[w,!o(k)]])],512),[[w,t.post.description.length>114]]),x(s("button",{class:"mt-2 font-bold",onClick:p[0]||(p[0]=b=>k.value=!o(k))},h(o(k)?"leia menos":"leia mais"),513),[[w,t.post.description.length>114]]),s("div",Mt,[o(g).name!==t.post.tag?(n(),ut(I,{key:0,class:"italic opacity-40 absolute left-0",to:{name:t.post.tag}},{default:C(()=>[V("#mais projetos sobre "+h(t.post.tag),1)]),_:1},8,["to"])):f("",!0),s("div",zt,[s("button",null,[u(J,{onClick:R,class:$(["text-3xl fill-@black/25 cursor-pointer transition-all",{"fill-@blue text-4xl":o(D)}])},null,8,["class"])]),o(v)?(n(),a("button",Vt,[u(K,{onClick:Y,class:"text-3xl fill-@black/25 cursor-pointer"})])):f("",!0)])]),o(c)?(n(),a("div",jt,[s("div",qt,[u(I,{to:{name:"post",query:{id:t.post.id}},class:"btn hover:bg-@blue text-center"},{default:C(()=>p[2]||(p[2]=[V("Update Post ")])),_:1},8,["to"]),s("button",{onClick:p[1]||(p[1]=b=>F(t.post.id,t.post.imagesSrc)),class:"btn hover:bg-@red"},"Delete Post and Images")]),s("div",Nt,[s("small",Ut,"Post ID: "+h(t.post.id),1),s("small",Ft,"Post priority: "+h(t.post.priority),1),s("small",Ht," Created: "+h(o(E).createdAtValue),1),s("small",Ot," Updated: "+h(o(E).updatedAtValue),1)])])):f("",!0)])):f("",!0)}}},Gt=A(Rt,[["__scopeId","data-v-2221c891"]]);export{Gt as _};
